import{_ as n,o as a,c as s,e}from"./app-B8gNu4K5.js";const t={},p=e(`<h3 id="全局配置" tabindex="-1"><a class="header-anchor" href="#全局配置"><span>全局配置</span></a></h3><p>为了减少配置量，我们引入了全局配置功能，项目中可能会定义多个线程池，除了一些核心参数外，其他配置可能都是相同的，新增 globalExecutorProps 配置项，如果线程池某一配置项没配置，则从全局配置中取。</p><p>优先级：线程池配置 &gt; 全局配置 &gt; 字段默认值</p><div class="language-yaml line-numbers-mode" data-ext="yml" data-title="yml"><pre class="language-yaml"><code><span class="token key atrule">dynamictp</span><span class="token punctuation">:</span>
  <span class="token key atrule">globalExecutorProps</span><span class="token punctuation">:</span>
    <span class="token key atrule">rejectedHandlerType</span><span class="token punctuation">:</span> CallerRunsPolicy
    <span class="token key atrule">queueType</span><span class="token punctuation">:</span> VariableLinkedBlockingQueue
    <span class="token key atrule">waitForTasksToCompleteOnShutdown</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>        
    <span class="token key atrule">awaitTerminationSeconds</span><span class="token punctuation">:</span> <span class="token number">3</span>   
    <span class="token key atrule">queueTimeout</span><span class="token punctuation">:</span> <span class="token number">100</span>    
    <span class="token key atrule">taskWrapperNames</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">&quot;ttl&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;mdc&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;swTrace&quot;</span><span class="token punctuation">]</span>
    <span class="token key atrule">notifyItems</span><span class="token punctuation">:</span>                   
      <span class="token punctuation">-</span> <span class="token key atrule">type</span><span class="token punctuation">:</span> capacity              
        <span class="token key atrule">threshold</span><span class="token punctuation">:</span> <span class="token number">80</span>             
        <span class="token key atrule">interval</span><span class="token punctuation">:</span> <span class="token number">300</span>     
        
      <span class="token punctuation">-</span> <span class="token key atrule">type</span><span class="token punctuation">:</span> liveness
        <span class="token key atrule">threshold</span><span class="token punctuation">:</span> <span class="token number">80</span>
        <span class="token key atrule">interval</span><span class="token punctuation">:</span> <span class="token number">300</span>
        
      <span class="token punctuation">-</span> <span class="token key atrule">type</span><span class="token punctuation">:</span> change
        <span class="token key atrule">interval</span><span class="token punctuation">:</span> <span class="token number">2</span>
        <span class="token key atrule">clusterLimit</span><span class="token punctuation">:</span> <span class="token number">1</span> 
        
      <span class="token punctuation">-</span> <span class="token key atrule">type</span><span class="token punctuation">:</span> reject
        <span class="token key atrule">threshold</span><span class="token punctuation">:</span> <span class="token number">1</span>
        <span class="token key atrule">interval</span><span class="token punctuation">:</span> <span class="token number">300</span>
        
      <span class="token punctuation">-</span> <span class="token key atrule">type</span><span class="token punctuation">:</span> run_timeout
        <span class="token key atrule">threshold</span><span class="token punctuation">:</span> <span class="token number">300</span>
        <span class="token key atrule">interval</span><span class="token punctuation">:</span> <span class="token number">300</span>
        
      <span class="token punctuation">-</span> <span class="token key atrule">type</span><span class="token punctuation">:</span> queue_timeout
        <span class="token key atrule">threshold</span><span class="token punctuation">:</span> <span class="token number">10</span>
        <span class="token key atrule">interval</span><span class="token punctuation">:</span> <span class="token number">300</span>  

  <span class="token key atrule">undertowTp</span><span class="token punctuation">:</span>                               
    <span class="token key atrule">corePoolSize</span><span class="token punctuation">:</span> <span class="token number">100</span>
    <span class="token key atrule">maximumPoolSize</span><span class="token punctuation">:</span> <span class="token number">200</span>
    <span class="token key atrule">keepAliveTime</span><span class="token punctuation">:</span> <span class="token number">60</span>

  <span class="token key atrule">executors</span><span class="token punctuation">:</span>
    <span class="token punctuation">-</span> <span class="token key atrule">threadPoolName</span><span class="token punctuation">:</span> dtpExecutor1
      <span class="token key atrule">executorType</span><span class="token punctuation">:</span> eager
      <span class="token key atrule">corePoolSize</span><span class="token punctuation">:</span> <span class="token number">10</span>
      <span class="token key atrule">maximumPoolSize</span><span class="token punctuation">:</span> <span class="token number">20</span>
      <span class="token key atrule">queueCapacity</span><span class="token punctuation">:</span> <span class="token number">2000</span>
      <span class="token key atrule">threadNamePrefix</span><span class="token punctuation">:</span> test
      
    <span class="token punctuation">-</span> <span class="token key atrule">threadPoolName</span><span class="token punctuation">:</span> jucExecutor
      <span class="token key atrule">autoCreate</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>
      <span class="token key atrule">corePoolSize</span><span class="token punctuation">:</span> <span class="token number">20</span>
      <span class="token key atrule">maximumPoolSize</span><span class="token punctuation">:</span> <span class="token number">40</span>
      <span class="token key atrule">queueCapacity</span><span class="token punctuation">:</span> <span class="token number">1000</span>
      <span class="token key atrule">threadNamePrefix</span><span class="token punctuation">:</span> juc

    <span class="token punctuation">-</span> <span class="token key atrule">threadPoolName</span><span class="token punctuation">:</span> springTaskExecutor
      <span class="token key atrule">autoCreate</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>
      <span class="token key atrule">corePoolSize</span><span class="token punctuation">:</span> <span class="token number">20</span>
      <span class="token key atrule">maximumPoolSize</span><span class="token punctuation">:</span> <span class="token number">40</span>
      <span class="token key atrule">queueCapacity</span><span class="token punctuation">:</span> <span class="token number">1000</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,4),l=[p];function o(c,u){return a(),s("div",null,l)}const r=n(t,[["render",o],["__file","global.html.vue"]]),k=JSON.parse('{"path":"/guide/use/global.html","title":"全局配置","lang":"zh-CN","frontmatter":{"title":"全局配置","icon":"global","order":1,"author":"yanhom","date":"2022-06-11T00:00:00.000Z","tag":["全局配置","dynamictp"],"sticky":true,"star":true,"description":"全局配置 为了减少配置量，我们引入了全局配置功能，项目中可能会定义多个线程池，除了一些核心参数外，其他配置可能都是相同的，新增 globalExecutorProps 配置项，如果线程池某一配置项没配置，则从全局配置中取。 优先级：线程池配置 > 全局配置 > 字段默认值","head":[["meta",{"property":"og:url","content":"https://gitee.com/dromara/dynamic-tp/guide/use/global.html"}],["meta",{"property":"og:site_name","content":"dynamictp"}],["meta",{"property":"og:title","content":"全局配置"}],["meta",{"property":"og:description","content":"全局配置 为了减少配置量，我们引入了全局配置功能，项目中可能会定义多个线程池，除了一些核心参数外，其他配置可能都是相同的，新增 globalExecutorProps 配置项，如果线程池某一配置项没配置，则从全局配置中取。 优先级：线程池配置 > 全局配置 > 字段默认值"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-03-15T15:33:45.000Z"}],["meta",{"property":"article:author","content":"yanhom"}],["meta",{"property":"article:tag","content":"全局配置"}],["meta",{"property":"article:tag","content":"dynamictp"}],["meta",{"property":"article:published_time","content":"2022-06-11T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2025-03-15T15:33:45.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"全局配置\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2022-06-11T00:00:00.000Z\\",\\"dateModified\\":\\"2025-03-15T15:33:45.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"yanhom\\"}]}"]]},"headers":[{"level":3,"title":"全局配置","slug":"全局配置","link":"#全局配置","children":[]}],"git":{"createdTime":1727367040000,"updatedTime":1742052825000,"contributors":[{"name":"yanhom","email":"yanhom1314@foxmail.com","commits":4},{"name":"yanhom","email":"1772140053@qq.com","commits":3}]},"readingTime":{"minutes":0.73,"words":220},"filePathRelative":"guide/use/global.md","localizedDate":"2022年6月11日","autoDesc":true,"excerpt":"<h3>全局配置</h3>\\n<p>为了减少配置量，我们引入了全局配置功能，项目中可能会定义多个线程池，除了一些核心参数外，其他配置可能都是相同的，新增 globalExecutorProps 配置项，如果线程池某一配置项没配置，则从全局配置中取。</p>\\n<p>优先级：线程池配置 &gt; 全局配置 &gt; 字段默认值</p>\\n<div class=\\"language-yaml\\" data-ext=\\"yml\\" data-title=\\"yml\\"><pre class=\\"language-yaml\\"><code><span class=\\"token key atrule\\">dynamictp</span><span class=\\"token punctuation\\">:</span>\\n  <span class=\\"token key atrule\\">globalExecutorProps</span><span class=\\"token punctuation\\">:</span>\\n    <span class=\\"token key atrule\\">rejectedHandlerType</span><span class=\\"token punctuation\\">:</span> CallerRunsPolicy\\n    <span class=\\"token key atrule\\">queueType</span><span class=\\"token punctuation\\">:</span> VariableLinkedBlockingQueue\\n    <span class=\\"token key atrule\\">waitForTasksToCompleteOnShutdown</span><span class=\\"token punctuation\\">:</span> <span class=\\"token boolean important\\">true</span>        \\n    <span class=\\"token key atrule\\">awaitTerminationSeconds</span><span class=\\"token punctuation\\">:</span> <span class=\\"token number\\">3</span>   \\n    <span class=\\"token key atrule\\">queueTimeout</span><span class=\\"token punctuation\\">:</span> <span class=\\"token number\\">100</span>    \\n    <span class=\\"token key atrule\\">taskWrapperNames</span><span class=\\"token punctuation\\">:</span> <span class=\\"token punctuation\\">[</span><span class=\\"token string\\">\\"ttl\\"</span><span class=\\"token punctuation\\">,</span> <span class=\\"token string\\">\\"mdc\\"</span><span class=\\"token punctuation\\">,</span> <span class=\\"token string\\">\\"swTrace\\"</span><span class=\\"token punctuation\\">]</span>\\n    <span class=\\"token key atrule\\">notifyItems</span><span class=\\"token punctuation\\">:</span>                   \\n      <span class=\\"token punctuation\\">-</span> <span class=\\"token key atrule\\">type</span><span class=\\"token punctuation\\">:</span> capacity              \\n        <span class=\\"token key atrule\\">threshold</span><span class=\\"token punctuation\\">:</span> <span class=\\"token number\\">80</span>             \\n        <span class=\\"token key atrule\\">interval</span><span class=\\"token punctuation\\">:</span> <span class=\\"token number\\">300</span>     \\n        \\n      <span class=\\"token punctuation\\">-</span> <span class=\\"token key atrule\\">type</span><span class=\\"token punctuation\\">:</span> liveness\\n        <span class=\\"token key atrule\\">threshold</span><span class=\\"token punctuation\\">:</span> <span class=\\"token number\\">80</span>\\n        <span class=\\"token key atrule\\">interval</span><span class=\\"token punctuation\\">:</span> <span class=\\"token number\\">300</span>\\n        \\n      <span class=\\"token punctuation\\">-</span> <span class=\\"token key atrule\\">type</span><span class=\\"token punctuation\\">:</span> change\\n        <span class=\\"token key atrule\\">interval</span><span class=\\"token punctuation\\">:</span> <span class=\\"token number\\">2</span>\\n        <span class=\\"token key atrule\\">clusterLimit</span><span class=\\"token punctuation\\">:</span> <span class=\\"token number\\">1</span> \\n        \\n      <span class=\\"token punctuation\\">-</span> <span class=\\"token key atrule\\">type</span><span class=\\"token punctuation\\">:</span> reject\\n        <span class=\\"token key atrule\\">threshold</span><span class=\\"token punctuation\\">:</span> <span class=\\"token number\\">1</span>\\n        <span class=\\"token key atrule\\">interval</span><span class=\\"token punctuation\\">:</span> <span class=\\"token number\\">300</span>\\n        \\n      <span class=\\"token punctuation\\">-</span> <span class=\\"token key atrule\\">type</span><span class=\\"token punctuation\\">:</span> run_timeout\\n        <span class=\\"token key atrule\\">threshold</span><span class=\\"token punctuation\\">:</span> <span class=\\"token number\\">300</span>\\n        <span class=\\"token key atrule\\">interval</span><span class=\\"token punctuation\\">:</span> <span class=\\"token number\\">300</span>\\n        \\n      <span class=\\"token punctuation\\">-</span> <span class=\\"token key atrule\\">type</span><span class=\\"token punctuation\\">:</span> queue_timeout\\n        <span class=\\"token key atrule\\">threshold</span><span class=\\"token punctuation\\">:</span> <span class=\\"token number\\">10</span>\\n        <span class=\\"token key atrule\\">interval</span><span class=\\"token punctuation\\">:</span> <span class=\\"token number\\">300</span>  \\n\\n  <span class=\\"token key atrule\\">undertowTp</span><span class=\\"token punctuation\\">:</span>                               \\n    <span class=\\"token key atrule\\">corePoolSize</span><span class=\\"token punctuation\\">:</span> <span class=\\"token number\\">100</span>\\n    <span class=\\"token key atrule\\">maximumPoolSize</span><span class=\\"token punctuation\\">:</span> <span class=\\"token number\\">200</span>\\n    <span class=\\"token key atrule\\">keepAliveTime</span><span class=\\"token punctuation\\">:</span> <span class=\\"token number\\">60</span>\\n\\n  <span class=\\"token key atrule\\">executors</span><span class=\\"token punctuation\\">:</span>\\n    <span class=\\"token punctuation\\">-</span> <span class=\\"token key atrule\\">threadPoolName</span><span class=\\"token punctuation\\">:</span> dtpExecutor1\\n      <span class=\\"token key atrule\\">executorType</span><span class=\\"token punctuation\\">:</span> eager\\n      <span class=\\"token key atrule\\">corePoolSize</span><span class=\\"token punctuation\\">:</span> <span class=\\"token number\\">10</span>\\n      <span class=\\"token key atrule\\">maximumPoolSize</span><span class=\\"token punctuation\\">:</span> <span class=\\"token number\\">20</span>\\n      <span class=\\"token key atrule\\">queueCapacity</span><span class=\\"token punctuation\\">:</span> <span class=\\"token number\\">2000</span>\\n      <span class=\\"token key atrule\\">threadNamePrefix</span><span class=\\"token punctuation\\">:</span> test\\n      \\n    <span class=\\"token punctuation\\">-</span> <span class=\\"token key atrule\\">threadPoolName</span><span class=\\"token punctuation\\">:</span> jucExecutor\\n      <span class=\\"token key atrule\\">autoCreate</span><span class=\\"token punctuation\\">:</span> <span class=\\"token boolean important\\">false</span>\\n      <span class=\\"token key atrule\\">corePoolSize</span><span class=\\"token punctuation\\">:</span> <span class=\\"token number\\">20</span>\\n      <span class=\\"token key atrule\\">maximumPoolSize</span><span class=\\"token punctuation\\">:</span> <span class=\\"token number\\">40</span>\\n      <span class=\\"token key atrule\\">queueCapacity</span><span class=\\"token punctuation\\">:</span> <span class=\\"token number\\">1000</span>\\n      <span class=\\"token key atrule\\">threadNamePrefix</span><span class=\\"token punctuation\\">:</span> juc\\n\\n    <span class=\\"token punctuation\\">-</span> <span class=\\"token key atrule\\">threadPoolName</span><span class=\\"token punctuation\\">:</span> springTaskExecutor\\n      <span class=\\"token key atrule\\">autoCreate</span><span class=\\"token punctuation\\">:</span> <span class=\\"token boolean important\\">false</span>\\n      <span class=\\"token key atrule\\">corePoolSize</span><span class=\\"token punctuation\\">:</span> <span class=\\"token number\\">20</span>\\n      <span class=\\"token key atrule\\">maximumPoolSize</span><span class=\\"token punctuation\\">:</span> <span class=\\"token number\\">40</span>\\n      <span class=\\"token key atrule\\">queueCapacity</span><span class=\\"token punctuation\\">:</span> <span class=\\"token number\\">1000</span>\\n</code></pre></div>"}');export{r as comp,k as data};
