import{_ as n,o as s,c as a,e as t}from"./app-B8gNu4K5.js";const p={},e=t(`<h3 id="告警信息扩展" tabindex="-1"><a class="header-anchor" href="#告警信息扩展"><span>告警信息扩展</span></a></h3><ol><li>可以通过 <code>AbstractDtpNotifier</code> 中的一些方法来扩展告警信息，如下通过 getTraceInfo() 方法来增加跳转详情链接，通过 getExtInfo() 方法来增加堆内存信息</li></ol><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">org<span class="token punctuation">.</span>dromara<span class="token punctuation">.</span>dynamictp<span class="token punctuation">.</span>example<span class="token punctuation">.</span>notifier</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>commons<span class="token punctuation">.</span>lang3<span class="token punctuation">.</span></span><span class="token class-name">StringUtils</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>commons<span class="token punctuation">.</span>lang3<span class="token punctuation">.</span>tuple<span class="token punctuation">.</span></span><span class="token class-name">Pair</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>dromara<span class="token punctuation">.</span>dynamictp<span class="token punctuation">.</span>core<span class="token punctuation">.</span>notifier<span class="token punctuation">.</span></span><span class="token class-name">AbstractDtpNotifier</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>slf4j<span class="token punctuation">.</span></span><span class="token class-name">MDC</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token keyword">static</span> <span class="token import static"><span class="token namespace">org<span class="token punctuation">.</span>dromara<span class="token punctuation">.</span>dynamictp<span class="token punctuation">.</span>common<span class="token punctuation">.</span>constant<span class="token punctuation">.</span></span><span class="token class-name">DynamicTpConst</span><span class="token punctuation">.</span><span class="token static">TRACE_ID</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token keyword">static</span> <span class="token import static"><span class="token namespace">org<span class="token punctuation">.</span>dromara<span class="token punctuation">.</span>dynamictp<span class="token punctuation">.</span>common<span class="token punctuation">.</span>constant<span class="token punctuation">.</span></span><span class="token class-name">DynamicTpConst</span><span class="token punctuation">.</span><span class="token static">UNKNOWN</span></span><span class="token punctuation">;</span>

<span class="token doc-comment comment">/**
 * SmsDtpNotifier related
 *
 * <span class="token keyword">@author</span> yanhom
 * <span class="token keyword">@since</span> 1.1.0
 */</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SmsDtpNotifier</span> <span class="token keyword">extends</span> <span class="token class-name">AbstractDtpNotifier</span> <span class="token punctuation">{</span>

    <span class="token keyword">public</span> <span class="token class-name">SmsDtpNotifier</span><span class="token punctuation">(</span><span class="token class-name">SmsNotifier</span> smsNotifier<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span>smsNotifier<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">platform</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">&quot;sms&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token class-name">String</span> <span class="token function">getNoticeTemplate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token class-name">SmsNotifyConst</span><span class="token punctuation">.</span><span class="token constant">SMS_NOTICE_TEMPLATE</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token class-name">String</span> <span class="token function">getAlarmTemplate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token class-name">SmsNotifyConst</span><span class="token punctuation">.</span><span class="token constant">SMS_ALARM_TEMPLATE</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token class-name">Pair</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> <span class="token function">getColors</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token class-name">String</span> <span class="token function">getTraceInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token class-name">StringUtils</span><span class="token punctuation">.</span><span class="token function">isBlank</span><span class="token punctuation">(</span><span class="token constant">MDC</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token constant">TRACE_ID</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token constant">UNKNOWN</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> <span class="token string">&quot;[跳转详情](&quot;</span> <span class="token operator">+</span> <span class="token function">getKibanaUrl</span><span class="token punctuation">(</span><span class="token constant">MDC</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token constant">TRACE_ID</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;)&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token class-name">String</span> <span class="token function">getExtInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">String</span> extInfo <span class="token operator">=</span> <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">getExtInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> memoryMetrics <span class="token operator">=</span> <span class="token function">getMemoryMetrics</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token class-name">StringUtils</span><span class="token punctuation">.</span><span class="token function">isBlank</span><span class="token punctuation">(</span>extInfo<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> memoryMetrics<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> extInfo <span class="token operator">+</span> <span class="token string">&quot;;&quot;</span> <span class="token operator">+</span> memoryMetrics<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">private</span> <span class="token class-name">String</span> <span class="token function">getKibanaUrl</span><span class="token punctuation">(</span><span class="token class-name">String</span> traceId<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">&quot;https://kibana.com/app/kibana#/discover?_g=()&amp;_a=(columns:!(_source),index:&#39;logstash-*&#39;,interval:auto,query:(language:lucene,query:&#39;traceId:&quot;</span> <span class="token operator">+</span> traceId <span class="token operator">+</span> <span class="token string">&quot;&#39;),sort:!(&#39;@timestamp&#39;,desc))&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">private</span> <span class="token class-name">String</span> <span class="token function">getMemoryMetrics</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">int</span> heapInit <span class="token operator">=</span> <span class="token number">1024</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> heapUsed <span class="token operator">=</span> <span class="token number">521</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> heapCommitted <span class="token operator">=</span> <span class="token number">1000</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> heapMax <span class="token operator">=</span> <span class="token number">1024</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token string">&quot;MemoryMetrics{&quot;</span> <span class="token operator">+</span>
                <span class="token string">&quot;heapInit=&quot;</span> <span class="token operator">+</span> heapInit <span class="token operator">+</span>
                <span class="token string">&quot;, heapUsed=&quot;</span> <span class="token operator">+</span> heapUsed <span class="token operator">+</span>
                <span class="token string">&quot;, heapCommitted=&quot;</span> <span class="token operator">+</span> heapCommitted <span class="token operator">+</span>
                <span class="token string">&quot;, heapMax=&quot;</span> <span class="token operator">+</span> heapMax <span class="token operator">+</span>
                <span class="token string">&quot;}&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,3),o=[e];function c(l,i){return s(),a("div",null,o)}const k=n(p,[["render",c],["__file","populate_message.html.vue"]]),r=JSON.parse(`{"path":"/guide/notice/populate_message.html","title":"告警信息扩展","lang":"zh-CN","frontmatter":{"title":"告警信息扩展","icon":"extension","order":1,"author":"yanhom","date":"2022-06-11T00:00:00.000Z","tag":["告警信息扩展","dynamictp"],"sticky":true,"star":true,"description":"告警信息扩展 可以通过 AbstractDtpNotifier 中的一些方法来扩展告警信息，如下通过 getTraceInfo() 方法来增加跳转详情链接，通过 getExtInfo() 方法来增加堆内存信息","head":[["meta",{"property":"og:url","content":"https://gitee.com/dromara/dynamic-tp/guide/notice/populate_message.html"}],["meta",{"property":"og:site_name","content":"dynamictp"}],["meta",{"property":"og:title","content":"告警信息扩展"}],["meta",{"property":"og:description","content":"告警信息扩展 可以通过 AbstractDtpNotifier 中的一些方法来扩展告警信息，如下通过 getTraceInfo() 方法来增加跳转详情链接，通过 getExtInfo() 方法来增加堆内存信息"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-03-15T15:33:45.000Z"}],["meta",{"property":"article:author","content":"yanhom"}],["meta",{"property":"article:tag","content":"告警信息扩展"}],["meta",{"property":"article:tag","content":"dynamictp"}],["meta",{"property":"article:published_time","content":"2022-06-11T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2025-03-15T15:33:45.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"告警信息扩展\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2022-06-11T00:00:00.000Z\\",\\"dateModified\\":\\"2025-03-15T15:33:45.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"yanhom\\"}]}"]]},"headers":[{"level":3,"title":"告警信息扩展","slug":"告警信息扩展","link":"#告警信息扩展","children":[]}],"git":{"createdTime":1701608641000,"updatedTime":1742052825000,"contributors":[{"name":"yanhom","email":"yanhom1314@foxmail.com","commits":2}]},"readingTime":{"minutes":0.77,"words":232},"filePathRelative":"guide/notice/populate_message.md","localizedDate":"2022年6月11日","autoDesc":true,"excerpt":"<h3>告警信息扩展</h3>\\n<ol>\\n<li>可以通过 <code>AbstractDtpNotifier</code> 中的一些方法来扩展告警信息，如下通过 getTraceInfo() 方法来增加跳转详情链接，通过 getExtInfo() 方法来增加堆内存信息</li>\\n</ol>\\n<div class=\\"language-java\\" data-ext=\\"java\\" data-title=\\"java\\"><pre class=\\"language-java\\"><code><span class=\\"token keyword\\">package</span> <span class=\\"token namespace\\">org<span class=\\"token punctuation\\">.</span>dromara<span class=\\"token punctuation\\">.</span>dynamictp<span class=\\"token punctuation\\">.</span>example<span class=\\"token punctuation\\">.</span>notifier</span><span class=\\"token punctuation\\">;</span>\\n\\n<span class=\\"token keyword\\">import</span> <span class=\\"token import\\"><span class=\\"token namespace\\">org<span class=\\"token punctuation\\">.</span>apache<span class=\\"token punctuation\\">.</span>commons<span class=\\"token punctuation\\">.</span>lang3<span class=\\"token punctuation\\">.</span></span><span class=\\"token class-name\\">StringUtils</span></span><span class=\\"token punctuation\\">;</span>\\n<span class=\\"token keyword\\">import</span> <span class=\\"token import\\"><span class=\\"token namespace\\">org<span class=\\"token punctuation\\">.</span>apache<span class=\\"token punctuation\\">.</span>commons<span class=\\"token punctuation\\">.</span>lang3<span class=\\"token punctuation\\">.</span>tuple<span class=\\"token punctuation\\">.</span></span><span class=\\"token class-name\\">Pair</span></span><span class=\\"token punctuation\\">;</span>\\n<span class=\\"token keyword\\">import</span> <span class=\\"token import\\"><span class=\\"token namespace\\">org<span class=\\"token punctuation\\">.</span>dromara<span class=\\"token punctuation\\">.</span>dynamictp<span class=\\"token punctuation\\">.</span>core<span class=\\"token punctuation\\">.</span>notifier<span class=\\"token punctuation\\">.</span></span><span class=\\"token class-name\\">AbstractDtpNotifier</span></span><span class=\\"token punctuation\\">;</span>\\n<span class=\\"token keyword\\">import</span> <span class=\\"token import\\"><span class=\\"token namespace\\">org<span class=\\"token punctuation\\">.</span>slf4j<span class=\\"token punctuation\\">.</span></span><span class=\\"token class-name\\">MDC</span></span><span class=\\"token punctuation\\">;</span>\\n\\n<span class=\\"token keyword\\">import</span> <span class=\\"token keyword\\">static</span> <span class=\\"token import static\\"><span class=\\"token namespace\\">org<span class=\\"token punctuation\\">.</span>dromara<span class=\\"token punctuation\\">.</span>dynamictp<span class=\\"token punctuation\\">.</span>common<span class=\\"token punctuation\\">.</span>constant<span class=\\"token punctuation\\">.</span></span><span class=\\"token class-name\\">DynamicTpConst</span><span class=\\"token punctuation\\">.</span><span class=\\"token static\\">TRACE_ID</span></span><span class=\\"token punctuation\\">;</span>\\n<span class=\\"token keyword\\">import</span> <span class=\\"token keyword\\">static</span> <span class=\\"token import static\\"><span class=\\"token namespace\\">org<span class=\\"token punctuation\\">.</span>dromara<span class=\\"token punctuation\\">.</span>dynamictp<span class=\\"token punctuation\\">.</span>common<span class=\\"token punctuation\\">.</span>constant<span class=\\"token punctuation\\">.</span></span><span class=\\"token class-name\\">DynamicTpConst</span><span class=\\"token punctuation\\">.</span><span class=\\"token static\\">UNKNOWN</span></span><span class=\\"token punctuation\\">;</span>\\n\\n<span class=\\"token doc-comment comment\\">/**\\n * SmsDtpNotifier related\\n *\\n * <span class=\\"token keyword\\">@author</span> yanhom\\n * <span class=\\"token keyword\\">@since</span> 1.1.0\\n */</span>\\n<span class=\\"token keyword\\">public</span> <span class=\\"token keyword\\">class</span> <span class=\\"token class-name\\">SmsDtpNotifier</span> <span class=\\"token keyword\\">extends</span> <span class=\\"token class-name\\">AbstractDtpNotifier</span> <span class=\\"token punctuation\\">{</span>\\n\\n    <span class=\\"token keyword\\">public</span> <span class=\\"token class-name\\">SmsDtpNotifier</span><span class=\\"token punctuation\\">(</span><span class=\\"token class-name\\">SmsNotifier</span> smsNotifier<span class=\\"token punctuation\\">)</span> <span class=\\"token punctuation\\">{</span>\\n        <span class=\\"token keyword\\">super</span><span class=\\"token punctuation\\">(</span>smsNotifier<span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">;</span>\\n    <span class=\\"token punctuation\\">}</span>\\n\\n    <span class=\\"token annotation punctuation\\">@Override</span>\\n    <span class=\\"token keyword\\">public</span> <span class=\\"token class-name\\">String</span> <span class=\\"token function\\">platform</span><span class=\\"token punctuation\\">(</span><span class=\\"token punctuation\\">)</span> <span class=\\"token punctuation\\">{</span>\\n        <span class=\\"token keyword\\">return</span> <span class=\\"token string\\">\\"sms\\"</span><span class=\\"token punctuation\\">;</span>\\n    <span class=\\"token punctuation\\">}</span>\\n\\n    <span class=\\"token annotation punctuation\\">@Override</span>\\n    <span class=\\"token keyword\\">protected</span> <span class=\\"token class-name\\">String</span> <span class=\\"token function\\">getNoticeTemplate</span><span class=\\"token punctuation\\">(</span><span class=\\"token punctuation\\">)</span> <span class=\\"token punctuation\\">{</span>\\n        <span class=\\"token keyword\\">return</span> <span class=\\"token class-name\\">SmsNotifyConst</span><span class=\\"token punctuation\\">.</span><span class=\\"token constant\\">SMS_NOTICE_TEMPLATE</span><span class=\\"token punctuation\\">;</span>\\n    <span class=\\"token punctuation\\">}</span>\\n\\n    <span class=\\"token annotation punctuation\\">@Override</span>\\n    <span class=\\"token keyword\\">protected</span> <span class=\\"token class-name\\">String</span> <span class=\\"token function\\">getAlarmTemplate</span><span class=\\"token punctuation\\">(</span><span class=\\"token punctuation\\">)</span> <span class=\\"token punctuation\\">{</span>\\n        <span class=\\"token keyword\\">return</span> <span class=\\"token class-name\\">SmsNotifyConst</span><span class=\\"token punctuation\\">.</span><span class=\\"token constant\\">SMS_ALARM_TEMPLATE</span><span class=\\"token punctuation\\">;</span>\\n    <span class=\\"token punctuation\\">}</span>\\n\\n    <span class=\\"token annotation punctuation\\">@Override</span>\\n    <span class=\\"token keyword\\">protected</span> <span class=\\"token class-name\\">Pair</span><span class=\\"token generics\\"><span class=\\"token punctuation\\">&lt;</span><span class=\\"token class-name\\">String</span><span class=\\"token punctuation\\">,</span> <span class=\\"token class-name\\">String</span><span class=\\"token punctuation\\">&gt;</span></span> <span class=\\"token function\\">getColors</span><span class=\\"token punctuation\\">(</span><span class=\\"token punctuation\\">)</span> <span class=\\"token punctuation\\">{</span>\\n        <span class=\\"token keyword\\">return</span> <span class=\\"token keyword\\">null</span><span class=\\"token punctuation\\">;</span>\\n    <span class=\\"token punctuation\\">}</span>\\n\\n    <span class=\\"token annotation punctuation\\">@Override</span>\\n    <span class=\\"token keyword\\">protected</span> <span class=\\"token class-name\\">String</span> <span class=\\"token function\\">getTraceInfo</span><span class=\\"token punctuation\\">(</span><span class=\\"token punctuation\\">)</span> <span class=\\"token punctuation\\">{</span>\\n        <span class=\\"token keyword\\">if</span> <span class=\\"token punctuation\\">(</span><span class=\\"token class-name\\">StringUtils</span><span class=\\"token punctuation\\">.</span><span class=\\"token function\\">isBlank</span><span class=\\"token punctuation\\">(</span><span class=\\"token constant\\">MDC</span><span class=\\"token punctuation\\">.</span><span class=\\"token function\\">get</span><span class=\\"token punctuation\\">(</span><span class=\\"token constant\\">TRACE_ID</span><span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">)</span> <span class=\\"token punctuation\\">{</span>\\n            <span class=\\"token keyword\\">return</span> <span class=\\"token constant\\">UNKNOWN</span><span class=\\"token punctuation\\">;</span>\\n        <span class=\\"token punctuation\\">}</span>\\n        <span class=\\"token keyword\\">return</span> <span class=\\"token string\\">\\"[跳转详情](\\"</span> <span class=\\"token operator\\">+</span> <span class=\\"token function\\">getKibanaUrl</span><span class=\\"token punctuation\\">(</span><span class=\\"token constant\\">MDC</span><span class=\\"token punctuation\\">.</span><span class=\\"token function\\">get</span><span class=\\"token punctuation\\">(</span><span class=\\"token constant\\">TRACE_ID</span><span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">)</span> <span class=\\"token operator\\">+</span> <span class=\\"token string\\">\\")\\"</span><span class=\\"token punctuation\\">;</span>\\n    <span class=\\"token punctuation\\">}</span>\\n\\n    <span class=\\"token annotation punctuation\\">@Override</span>\\n    <span class=\\"token keyword\\">protected</span> <span class=\\"token class-name\\">String</span> <span class=\\"token function\\">getExtInfo</span><span class=\\"token punctuation\\">(</span><span class=\\"token punctuation\\">)</span> <span class=\\"token punctuation\\">{</span>\\n        <span class=\\"token class-name\\">String</span> extInfo <span class=\\"token operator\\">=</span> <span class=\\"token keyword\\">super</span><span class=\\"token punctuation\\">.</span><span class=\\"token function\\">getExtInfo</span><span class=\\"token punctuation\\">(</span><span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">;</span>\\n        <span class=\\"token class-name\\">String</span> memoryMetrics <span class=\\"token operator\\">=</span> <span class=\\"token function\\">getMemoryMetrics</span><span class=\\"token punctuation\\">(</span><span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">;</span>\\n        <span class=\\"token keyword\\">if</span> <span class=\\"token punctuation\\">(</span><span class=\\"token class-name\\">StringUtils</span><span class=\\"token punctuation\\">.</span><span class=\\"token function\\">isBlank</span><span class=\\"token punctuation\\">(</span>extInfo<span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">)</span> <span class=\\"token punctuation\\">{</span>\\n            <span class=\\"token keyword\\">return</span> memoryMetrics<span class=\\"token punctuation\\">;</span>\\n        <span class=\\"token punctuation\\">}</span>\\n        <span class=\\"token keyword\\">return</span> extInfo <span class=\\"token operator\\">+</span> <span class=\\"token string\\">\\";\\"</span> <span class=\\"token operator\\">+</span> memoryMetrics<span class=\\"token punctuation\\">;</span>\\n    <span class=\\"token punctuation\\">}</span>\\n\\n    <span class=\\"token keyword\\">private</span> <span class=\\"token class-name\\">String</span> <span class=\\"token function\\">getKibanaUrl</span><span class=\\"token punctuation\\">(</span><span class=\\"token class-name\\">String</span> traceId<span class=\\"token punctuation\\">)</span> <span class=\\"token punctuation\\">{</span>\\n        <span class=\\"token keyword\\">return</span> <span class=\\"token string\\">\\"https://kibana.com/app/kibana#/discover?_g=()&amp;_a=(columns:!(_source),index:'logstash-*',interval:auto,query:(language:lucene,query:'traceId:\\"</span> <span class=\\"token operator\\">+</span> traceId <span class=\\"token operator\\">+</span> <span class=\\"token string\\">\\"'),sort:!('@timestamp',desc))\\"</span><span class=\\"token punctuation\\">;</span>\\n    <span class=\\"token punctuation\\">}</span>\\n\\n    <span class=\\"token keyword\\">private</span> <span class=\\"token class-name\\">String</span> <span class=\\"token function\\">getMemoryMetrics</span><span class=\\"token punctuation\\">(</span><span class=\\"token punctuation\\">)</span> <span class=\\"token punctuation\\">{</span>\\n        <span class=\\"token keyword\\">int</span> heapInit <span class=\\"token operator\\">=</span> <span class=\\"token number\\">1024</span><span class=\\"token punctuation\\">;</span>\\n        <span class=\\"token keyword\\">int</span> heapUsed <span class=\\"token operator\\">=</span> <span class=\\"token number\\">521</span><span class=\\"token punctuation\\">;</span>\\n        <span class=\\"token keyword\\">int</span> heapCommitted <span class=\\"token operator\\">=</span> <span class=\\"token number\\">1000</span><span class=\\"token punctuation\\">;</span>\\n        <span class=\\"token keyword\\">int</span> heapMax <span class=\\"token operator\\">=</span> <span class=\\"token number\\">1024</span><span class=\\"token punctuation\\">;</span>\\n        <span class=\\"token keyword\\">return</span> <span class=\\"token string\\">\\"MemoryMetrics{\\"</span> <span class=\\"token operator\\">+</span>\\n                <span class=\\"token string\\">\\"heapInit=\\"</span> <span class=\\"token operator\\">+</span> heapInit <span class=\\"token operator\\">+</span>\\n                <span class=\\"token string\\">\\", heapUsed=\\"</span> <span class=\\"token operator\\">+</span> heapUsed <span class=\\"token operator\\">+</span>\\n                <span class=\\"token string\\">\\", heapCommitted=\\"</span> <span class=\\"token operator\\">+</span> heapCommitted <span class=\\"token operator\\">+</span>\\n                <span class=\\"token string\\">\\", heapMax=\\"</span> <span class=\\"token operator\\">+</span> heapMax <span class=\\"token operator\\">+</span>\\n                <span class=\\"token string\\">\\"}\\"</span><span class=\\"token punctuation\\">;</span>\\n    <span class=\\"token punctuation\\">}</span>\\n<span class=\\"token punctuation\\">}</span>\\n</code></pre></div>"}`);export{k as comp,r as data};
