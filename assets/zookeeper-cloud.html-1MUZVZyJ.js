import{_ as a,o as n,c as s,e}from"./app-B8gNu4K5.js";const t={},p=e(`<div class="hint-container tip"><p class="hint-container-title">提示</p><ul><li><p>动态线程池配置文件，建议单独开一个文件放到 zookeeper 中，方便管理</p></li><li><p>如果配置中心支持 yml 格式，建议最好使用 yml 文件配置，可读性、可操作性更友好</p></li><li><p>给出的是全配置项，使用不到的项或者使用默认值的项都可以删除，减少配置量</p></li><li><p>集成失败 90% 以上情况都是使用姿势有误 / 版本兼容问题，有版本兼容性问题可以提 Issues 或加群反馈</p></li><li><p>zookpeer-cloud 应用只支持 properties 配置</p></li><li><p>可以通过 <code>ZKUI</code> 工具快速导入下述格式的配置</p></li></ul></div><div class="hint-container caution"><p class="hint-container-title">警告</p><ul><li>下述配置项的值都是随便填写的，请不要直接使用该值，根据自己项目做调整</li></ul></div><h3 id="maven-依赖" tabindex="-1"><a class="header-anchor" href="#maven-依赖"><span>maven 依赖</span></a></h3><p>SpringBoot1x、2x 用此依赖</p><div class="language-xml line-numbers-mode" data-ext="xml" data-title="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.dromara.dynamictp<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>dynamic-tp-spring-cloud-starter-zookeeper<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>1.2.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>SpringBoot3x 用此依赖</p><div class="language-xml line-numbers-mode" data-ext="xml" data-title="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.dromara.dynamictp<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>dynamic-tp-spring-cloud-starter-zookeeper<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>1.2.0-x<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="线程池配置文件" tabindex="-1"><a class="header-anchor" href="#线程池配置文件"><span>线程池配置文件</span></a></h3><h4 id="properties-格式" tabindex="-1"><a class="header-anchor" href="#properties-格式"><span>properties 格式</span></a></h4><div class="language-properties line-numbers-mode" data-ext="properties" data-title="properties"><pre class="language-properties"><code><span class="token key attr-name">dynamictp.enabled</span><span class="token punctuation">=</span><span class="token value attr-value">true                                  # 是否启用 dynamictp，默认true</span>
<span class="token key attr-name">dynamictp.enabledCollect</span><span class="token punctuation">=</span><span class="token value attr-value">true                           # 是否开启监控指标采集，默认true</span>
<span class="token key attr-name">dynamictp.collectorTypes</span><span class="token punctuation">=</span><span class="token value attr-value">micrometer,logging             # 监控数据采集器类型（logging | micrometer | internal_logging | JMX），默认micrometer</span>
<span class="token key attr-name">dynamictp.logPath</span><span class="token punctuation">=</span><span class="token value attr-value">/home/logs/dynamictp/user-center/    # 监控日志数据路径，默认 \${user.home}/logs，采集类型非logging不用配置</span>
<span class="token key attr-name">dynamictp.monitorInterval</span><span class="token punctuation">=</span><span class="token value attr-value">5                             # 监控时间间隔（报警检测、指标采集），默认5s</span>

<span class="token comment"># 告警渠道</span>
<span class="token key attr-name">dynamictp.platforms[0].platform</span><span class="token punctuation">=</span><span class="token value attr-value">wechat                  # 第一个通知平台为微信</span>
<span class="token key attr-name">dynamictp.platforms[0].platformId</span><span class="token punctuation">=</span><span class="token value attr-value">1                     # 平台id，自定义</span>
<span class="token key attr-name">dynamictp.platforms[0].urlKey</span><span class="token punctuation">=</span><span class="token value attr-value">3a700-127-4bd-a798-c53d8b69c # webhook 中的 key</span>
<span class="token key attr-name">dynamictp.platforms[0].receivers</span><span class="token punctuation">=</span><span class="token value attr-value">test1,test2            # 接受人企微账号</span>

<span class="token key attr-name">dynamictp.platforms[1].platform</span><span class="token punctuation">=</span><span class="token value attr-value">ding                    # 第二个通知平台为钉钉</span>
<span class="token key attr-name">dynamictp.platforms[1].platformId</span><span class="token punctuation">=</span><span class="token value attr-value">2                     # 平台id，自定义</span>
<span class="token key attr-name">dynamictp.platforms[1].urlKey</span><span class="token punctuation">=</span><span class="token value attr-value">f80dad441fcd655438f4a08dcd6a # webhook 中的 access_token</span>
<span class="token key attr-name">dynamictp.platforms[1].secret</span><span class="token punctuation">=</span><span class="token value attr-value">SECb5441fa6f375d5b9d21    # 安全设置在验签模式下才的秘钥，非验签模式没有此值</span>
<span class="token key attr-name">dynamictp.platforms[1].receivers</span><span class="token punctuation">=</span><span class="token value attr-value">18888888888            # 钉钉账号手机号</span>

<span class="token key attr-name">dynamictp.platforms[2].platform</span><span class="token punctuation">=</span><span class="token value attr-value">lark                    # 第三个通知平台为飞书</span>
<span class="token key attr-name">dynamictp.platforms[2].platformId</span><span class="token punctuation">=</span><span class="token value attr-value">3                     # 平台id，自定义</span>
<span class="token key attr-name">dynamictp.platforms[2].urlKey</span><span class="token punctuation">=</span><span class="token value attr-value">0d944ae7-b24a-40          # webhook 中的 token</span>
<span class="token key attr-name">dynamictp.platforms[2].secret</span><span class="token punctuation">=</span><span class="token value attr-value">3a750012874bdac5c3d8b69c  # 安全设置在签名校验模式下才的秘钥，非验签模式没有此值</span>
<span class="token key attr-name">dynamictp.platforms[2].receivers</span><span class="token punctuation">=</span><span class="token value attr-value">test1,test2            # 接受人username / openid</span>

<span class="token key attr-name">dynamictp.platforms[3].platform</span><span class="token punctuation">=</span><span class="token value attr-value">email                   # 第四个通知平台为邮件</span>
<span class="token key attr-name">dynamictp.platforms[3].platformId</span><span class="token punctuation">=</span><span class="token value attr-value">4                     # 平台id，自定义</span>
<span class="token key attr-name">dynamictp.platforms[3].receivers</span><span class="token punctuation">=</span><span class="token value attr-value">123456@qq.com,789789@qq.com # 收件人邮箱，多个用逗号隔开</span>

<span class="token comment"># 全局配置    </span>
<span class="token key attr-name">dynamictp.globalExecutorProps.rejectedHandlerType</span><span class="token punctuation">=</span><span class="token value attr-value">CallerRunsPolicy</span>
<span class="token key attr-name">dynamictp.globalExecutorProps.queueType</span><span class="token punctuation">=</span><span class="token value attr-value">VariableLinkedBlockingQueue</span>
<span class="token key attr-name">dynamictp.globalExecutorProps.waitForTasksToCompleteOnShutdown</span><span class="token punctuation">=</span><span class="token value attr-value">true</span>
<span class="token key attr-name">dynamictp.globalExecutorProps.awaitTerminationSeconds</span><span class="token punctuation">=</span><span class="token value attr-value">3</span>
<span class="token key attr-name">dynamictp.globalExecutorProps.taskWrapperNames</span><span class="token punctuation">=</span><span class="token value attr-value">swTrace,ttl,mdc</span>
<span class="token key attr-name">dynamictp.globalExecutorProps.queueTimeout</span><span class="token punctuation">=</span><span class="token value attr-value">300</span>
<span class="token key attr-name">dynamictp.globalExecutorProps.runTimeout</span><span class="token punctuation">=</span><span class="token value attr-value">300</span>
<span class="token key attr-name">dynamictp.globalExecutorProps.notifyItems[0].type</span><span class="token punctuation">=</span><span class="token value attr-value">change</span>
<span class="token key attr-name">dynamictp.globalExecutorProps.notifyItems[0].enabled</span><span class="token punctuation">=</span><span class="token value attr-value">true</span>

<span class="token key attr-name">dynamictp.globalExecutorProps.notifyItems[1].type</span><span class="token punctuation">=</span><span class="token value attr-value">capacity</span>
<span class="token key attr-name">dynamictp.globalExecutorProps.notifyItems[1].enabled</span><span class="token punctuation">=</span><span class="token value attr-value">true</span>
<span class="token key attr-name">dynamictp.globalExecutorProps.notifyItems[1].threshold</span><span class="token punctuation">=</span><span class="token value attr-value">80</span>
<span class="token key attr-name">dynamictp.globalExecutorProps.notifyItems[1].platformIds</span><span class="token punctuation">=</span><span class="token value attr-value">2</span>
<span class="token key attr-name">dynamictp.globalExecutorProps.notifyItems[1].interval</span><span class="token punctuation">=</span><span class="token value attr-value">120</span>

<span class="token key attr-name">dynamictp.globalExecutorProps.notifyItems[2].type</span><span class="token punctuation">=</span><span class="token value attr-value">liveness</span>
<span class="token key attr-name">dynamictp.globalExecutorProps.notifyItems[2].enabled</span><span class="token punctuation">=</span><span class="token value attr-value">true</span>
<span class="token key attr-name">dynamictp.globalExecutorProps.notifyItems[2].threshold</span><span class="token punctuation">=</span><span class="token value attr-value">80</span>

<span class="token key attr-name">dynamictp.globalExecutorProps.notifyItems[3].type</span><span class="token punctuation">=</span><span class="token value attr-value">reject</span>
<span class="token key attr-name">dynamictp.globalExecutorProps.notifyItems[3].enabled</span><span class="token punctuation">=</span><span class="token value attr-value">true</span>
<span class="token key attr-name">dynamictp.globalExecutorProps.notifyItems[3].threshold</span><span class="token punctuation">=</span><span class="token value attr-value">100</span>

<span class="token key attr-name">dynamictp.globalExecutorProps.notifyItems[4].type</span><span class="token punctuation">=</span><span class="token value attr-value">run_timeout</span>
<span class="token key attr-name">dynamictp.globalExecutorProps.notifyItems[4].enabled</span><span class="token punctuation">=</span><span class="token value attr-value">true</span>
<span class="token key attr-name">dynamictp.globalExecutorProps.notifyItems[4].threshold</span><span class="token punctuation">=</span><span class="token value attr-value">100</span>

<span class="token key attr-name">dynamictp.globalExecutorProps.notifyItems[5].type</span><span class="token punctuation">=</span><span class="token value attr-value">queue_timeout</span>
<span class="token key attr-name">dynamictp.globalExecutorProps.notifyItems[5].enabled</span><span class="token punctuation">=</span><span class="token value attr-value">true</span>
<span class="token key attr-name">dynamictp.globalExecutorProps.notifyItems[5].threshold</span><span class="token punctuation">=</span><span class="token value attr-value">100</span>

<span class="token comment"># 线程池配置      </span>
<span class="token key attr-name">dynamictp.executors[0].threadPoolName</span><span class="token punctuation">=</span><span class="token value attr-value">dtpExecutor1         # 线程池名称，必填</span>
<span class="token key attr-name">dynamictp.executors[0].threadPoolAliasName</span><span class="token punctuation">=</span><span class="token value attr-value">测试线程池        # 线程池别名，可选</span>
<span class="token key attr-name">dynamictp.executors[0].executorType</span><span class="token punctuation">=</span><span class="token value attr-value">common                 # 线程池类型 common、eager、ordered、scheduled、priority，默认 common</span>
<span class="token key attr-name">dynamictp.executors[0].corePoolSize</span><span class="token punctuation">=</span><span class="token value attr-value">6                      # 核心线程数，默认1</span>
<span class="token key attr-name">dynamictp.executors[0].maximumPoolSize</span><span class="token punctuation">=</span><span class="token value attr-value">8                   # 最大线程数，默认cpu核数</span>
<span class="token key attr-name">dynamictp.executors[0].queueCapacity</span><span class="token punctuation">=</span><span class="token value attr-value">2000                  # 队列容量，默认1024</span>
<span class="token key attr-name">dynamictp.executors[0].queueType</span><span class="token punctuation">=</span><span class="token value attr-value">VariableLinkedBlockingQueue         # 任务队列，查看源码QueueTypeEnum枚举类，默认VariableLinkedBlockingQueue</span>
<span class="token key attr-name">dynamictp.executors[0].rejectedHandlerType</span><span class="token punctuation">=</span><span class="token value attr-value">CallerRunsPolicy          # 拒绝策略，查看RejectedTypeEnum枚举类，默认AbortPolicy</span>
<span class="token key attr-name">dynamictp.executors[0].keepAliveTime</span><span class="token punctuation">=</span><span class="token value attr-value">60                              # 空闲线程等待超时时间，默认60</span>
<span class="token key attr-name">dynamictp.executors[0].threadNamePrefix</span><span class="token punctuation">=</span><span class="token value attr-value">test                         # 线程名前缀，默认dtp</span>
<span class="token key attr-name">dynamictp.executors[0].allowCoreThreadTimeOut</span><span class="token punctuation">=</span><span class="token value attr-value">false                  # 是否允许核心线程池超时，默认false</span>
<span class="token key attr-name">dynamictp.executors[0].waitForTasksToCompleteOnShutdown</span><span class="token punctuation">=</span><span class="token value attr-value">true         # 参考spring线程池设计，优雅关闭线程池，默认true</span>
<span class="token key attr-name">dynamictp.executors[0].awaitTerminationSeconds</span><span class="token punctuation">=</span><span class="token value attr-value">5                     # 优雅关闭线程池时，阻塞等待线程池中任务执行时间，默认3，单位（s）</span>
<span class="token key attr-name">dynamictp.executors[0].preStartAllCoreThreads</span><span class="token punctuation">=</span><span class="token value attr-value">false                  # 是否预热所有核心线程，默认false</span>
<span class="token key attr-name">dynamictp.executors[0].runTimeout</span><span class="token punctuation">=</span><span class="token value attr-value">200                                # 任务执行超时阈值，单位（ms），默认0（不统计）</span>
<span class="token key attr-name">dynamictp.executors[0].queueTimeout</span><span class="token punctuation">=</span><span class="token value attr-value">100                              # 任务在队列等待超时阈值，单位（ms），默认0（不统计）</span>
<span class="token key attr-name">dynamictp.executors[0].taskWrapperNames</span><span class="token punctuation">=</span><span class="token value attr-value">ttl,mdc                      # 任务包装器名称，继承TaskWrapper接口</span>
<span class="token key attr-name">dynamictp.executors[0].notifyEnabled</span><span class="token punctuation">=</span><span class="token value attr-value">true                            # 是否开启报警，默认true</span>
<span class="token key attr-name">dynamictp.executors[0].platformIds</span><span class="token punctuation">=</span><span class="token value attr-value">1,2</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="通过-zkui-工具导入-properties-格式" tabindex="-1"><a class="header-anchor" href="#通过-zkui-工具导入-properties-格式"><span>通过 <code>ZKUI</code> 工具导入 properties 格式</span></a></h4><div class="language-properties line-numbers-mode" data-ext="properties" data-title="properties"><pre class="language-properties"><code><span class="token key attr-name">/configserver/dev/user-center,dev</span><span class="token punctuation">=</span><span class="token value attr-value">dynamictp.enabled=true</span>
<span class="token key attr-name">/configserver/dev/user-center,dev</span><span class="token punctuation">=</span><span class="token value attr-value">dynamictp.enabledCollect=true</span>
<span class="token key attr-name">/configserver/dev/user-center,dev</span><span class="token punctuation">=</span><span class="token value attr-value">dynamictp.collectorTypes=micrometer,logging</span>
<span class="token key attr-name">/configserver/dev/user-center,dev</span><span class="token punctuation">=</span><span class="token value attr-value">dynamictp.logPath=/home/logs/dynamictp/user-center/</span>
<span class="token key attr-name">/configserver/dev/user-center,dev</span><span class="token punctuation">=</span><span class="token value attr-value">dynamictp.monitorInterval=5</span>
<span class="token key attr-name">/configserver/dev/user-center,dev</span><span class="token punctuation">=</span><span class="token value attr-value">dynamictp.platforms[0].platform=wechat</span>
<span class="token key attr-name">/configserver/dev/user-center,dev</span><span class="token punctuation">=</span><span class="token value attr-value">dynamictp.platforms[0].platformId=1</span>
<span class="token key attr-name">/configserver/dev/user-center,dev</span><span class="token punctuation">=</span><span class="token value attr-value">dynamictp.platforms[0].urlKey=3a700-127-4bd-a798-c53d8b69c</span>
<span class="token key attr-name">/configserver/dev/user-center,dev</span><span class="token punctuation">=</span><span class="token value attr-value">dynamictp.platforms[0].receivers=test1,test2</span>
<span class="token key attr-name">/configserver/dev/user-center,dev</span><span class="token punctuation">=</span><span class="token value attr-value">dynamictp.platforms[1].platform=ding</span>
<span class="token key attr-name">/configserver/dev/user-center,dev</span><span class="token punctuation">=</span><span class="token value attr-value">dynamictp.platforms[1].platformId=2</span>
<span class="token key attr-name">/configserver/dev/user-center,dev</span><span class="token punctuation">=</span><span class="token value attr-value">dynamictp.platforms[1].urlKey=f80dad441fcd655438f4a08dcd6a</span>
<span class="token key attr-name">/configserver/dev/user-center,dev</span><span class="token punctuation">=</span><span class="token value attr-value">dynamictp.platforms[1].secret=SECb5441fa6f375d5b9d21</span>
<span class="token key attr-name">/configserver/dev/user-center,dev</span><span class="token punctuation">=</span><span class="token value attr-value">dynamictp.platforms[1].receivers=18888888888</span>
<span class="token key attr-name">/configserver/dev/user-center,dev</span><span class="token punctuation">=</span><span class="token value attr-value">dynamictp.platforms[2].platform=lark</span>
<span class="token key attr-name">/configserver/dev/user-center,dev</span><span class="token punctuation">=</span><span class="token value attr-value">dynamictp.platforms[2].platformId=3</span>
<span class="token key attr-name">/configserver/dev/user-center,dev</span><span class="token punctuation">=</span><span class="token value attr-value">dynamictp.platforms[2].urlKey=0d944ae7-b24a-40</span>
<span class="token key attr-name">/configserver/dev/user-center,dev</span><span class="token punctuation">=</span><span class="token value attr-value">dynamictp.platforms[2].secret=3a750012874bdac5c3d8b69c</span>
<span class="token key attr-name">/configserver/dev/user-center,dev</span><span class="token punctuation">=</span><span class="token value attr-value">dynamictp.platforms[2].receivers=test1,test2</span>
<span class="token key attr-name">/configserver/dev/user-center,dev</span><span class="token punctuation">=</span><span class="token value attr-value">dynamictp.platforms[3].platform=email</span>
<span class="token key attr-name">/configserver/dev/user-center,dev</span><span class="token punctuation">=</span><span class="token value attr-value">dynamictp.platforms[3].platformId=4</span>
<span class="token key attr-name">/configserver/dev/user-center,dev</span><span class="token punctuation">=</span><span class="token value attr-value">dynamictp.platforms[3].receivers=123456@qq.com,789789@qq.com</span>
<span class="token key attr-name">/configserver/dev/user-center,dev</span><span class="token punctuation">=</span><span class="token value attr-value">dynamictp.executors[0].threadPoolName=dtpExecutor1</span>
<span class="token key attr-name">/configserver/dev/user-center,dev</span><span class="token punctuation">=</span><span class="token value attr-value">dynamictp.executors[0].threadPoolAliasName=测试线程池</span>
<span class="token key attr-name">/configserver/dev/user-center,dev</span><span class="token punctuation">=</span><span class="token value attr-value">dynamictp.executors[0].executorType=common</span>
<span class="token key attr-name">/configserver/dev/user-center,dev</span><span class="token punctuation">=</span><span class="token value attr-value">dynamictp.executors[0].corePoolSize=6</span>
<span class="token key attr-name">/configserver/dev/user-center,dev</span><span class="token punctuation">=</span><span class="token value attr-value">dynamictp.executors[0].maximumPoolSize=8</span>
<span class="token key attr-name">/configserver/dev/user-center,dev</span><span class="token punctuation">=</span><span class="token value attr-value">dynamictp.executors[0].queueCapacity=2000</span>
<span class="token key attr-name">/configserver/dev/user-center,dev</span><span class="token punctuation">=</span><span class="token value attr-value">dynamictp.executors[0].queueType=VariableLinkedBlockingQueue</span>
<span class="token key attr-name">/configserver/dev/user-center,dev</span><span class="token punctuation">=</span><span class="token value attr-value">dynamictp.executors[0].rejectedHandlerType=CallerRunsPolicy</span>
<span class="token key attr-name">/configserver/dev/user-center,dev</span><span class="token punctuation">=</span><span class="token value attr-value">dynamictp.executors[0].keepAliveTime=60</span>
<span class="token key attr-name">/configserver/dev/user-center,dev</span><span class="token punctuation">=</span><span class="token value attr-value">dynamictp.executors[0].threadNamePrefix=test</span>
<span class="token key attr-name">/configserver/dev/user-center,dev</span><span class="token punctuation">=</span><span class="token value attr-value">dynamictp.executors[0].allowCoreThreadTimeOut=false</span>
<span class="token key attr-name">/configserver/dev/user-center,dev</span><span class="token punctuation">=</span><span class="token value attr-value">dynamictp.executors[0].waitForTasksToCompleteOnShutdown=true</span>
<span class="token key attr-name">/configserver/dev/user-center,dev</span><span class="token punctuation">=</span><span class="token value attr-value">dynamictp.executors[0].awaitTerminationSeconds=5</span>
<span class="token key attr-name">/configserver/dev/user-center,dev</span><span class="token punctuation">=</span><span class="token value attr-value">dynamictp.executors[0].preStartAllCoreThreads=false</span>
<span class="token key attr-name">/configserver/dev/user-center,dev</span><span class="token punctuation">=</span><span class="token value attr-value">dynamictp.executors[0].runTimeout=200</span>
<span class="token key attr-name">/configserver/dev/user-center,dev</span><span class="token punctuation">=</span><span class="token value attr-value">dynamictp.executors[0].queueTimeout=100</span>
<span class="token key attr-name">/configserver/dev/user-center,dev</span><span class="token punctuation">=</span><span class="token value attr-value">dynamictp.executors[0].taskWrapperNames[0]=ttl</span>
<span class="token key attr-name">/configserver/dev/user-center,dev</span><span class="token punctuation">=</span><span class="token value attr-value">dynamictp.executors[0].taskWrapperNames[1]=mdc</span>
<span class="token key attr-name">/configserver/dev/user-center,dev</span><span class="token punctuation">=</span><span class="token value attr-value">dynamictp.executors[0].notifyEnabled=true</span>
<span class="token key attr-name">/configserver/dev/user-center,dev</span><span class="token punctuation">=</span><span class="token value attr-value">dynamictp.executors[0].platformIds[0]=1</span>
<span class="token key attr-name">/configserver/dev/user-center,dev</span><span class="token punctuation">=</span><span class="token value attr-value">dynamictp.executors[0].platformIds[1]=2</span>
<span class="token key attr-name">/configserver/dev/user-center,dev</span><span class="token punctuation">=</span><span class="token value attr-value">dynamictp.executors[0].notifyItems[0].type=change</span>
<span class="token key attr-name">/configserver/dev/user-center,dev</span><span class="token punctuation">=</span><span class="token value attr-value">dynamictp.executors[0].notifyItems[0].enabled=true</span>
<span class="token key attr-name">/configserver/dev/user-center,dev</span><span class="token punctuation">=</span><span class="token value attr-value">dynamictp.executors[0].notifyItems[1].type=capacity</span>
<span class="token key attr-name">/configserver/dev/user-center,dev</span><span class="token punctuation">=</span><span class="token value attr-value">dynamictp.executors[0].notifyItems[1].enabled=true</span>
<span class="token key attr-name">/configserver/dev/user-center,dev</span><span class="token punctuation">=</span><span class="token value attr-value">dynamictp.executors[0].notifyItems[1].threshold=80</span>
<span class="token key attr-name">/configserver/dev/user-center,dev</span><span class="token punctuation">=</span><span class="token value attr-value">dynamictp.executors[0].notifyItems[1].platformIds[0]=2</span>
<span class="token key attr-name">/configserver/dev/user-center,dev</span><span class="token punctuation">=</span><span class="token value attr-value">dynamictp.executors[0].notifyItems[1].interval=120</span>
<span class="token key attr-name">/configserver/dev/user-center,dev</span><span class="token punctuation">=</span><span class="token value attr-value">dynamictp.executors[0].notifyItems[2].type=liveness</span>
<span class="token key attr-name">/configserver/dev/user-center,dev</span><span class="token punctuation">=</span><span class="token value attr-value">dynamictp.executors[0].notifyItems[2].enabled=true</span>
<span class="token key attr-name">/configserver/dev/user-center,dev</span><span class="token punctuation">=</span><span class="token value attr-value">dynamictp.executors[0].notifyItems[2].threshold=80</span>
<span class="token key attr-name">/configserver/dev/user-center,dev</span><span class="token punctuation">=</span><span class="token value attr-value">dynamictp.executors[0].notifyItems[3].type=reject</span>
<span class="token key attr-name">/configserver/dev/user-center,dev</span><span class="token punctuation">=</span><span class="token value attr-value">dynamictp.executors[0].notifyItems[3].enabled=true</span>
<span class="token key attr-name">/configserver/dev/user-center,dev</span><span class="token punctuation">=</span><span class="token value attr-value">dynamictp.executors[0].notifyItems[3].threshold=100</span>
<span class="token key attr-name">/configserver/dev/user-center,dev</span><span class="token punctuation">=</span><span class="token value attr-value">dynamictp.executors[0].notifyItems[4].type=run_timeout</span>
<span class="token key attr-name">/configserver/dev/user-center,dev</span><span class="token punctuation">=</span><span class="token value attr-value">dynamictp.executors[0].notifyItems[4].enabled=true</span>
<span class="token key attr-name">/configserver/dev/user-center,dev</span><span class="token punctuation">=</span><span class="token value attr-value">dynamictp.executors[0].notifyItems[4].threshold=100</span>
<span class="token key attr-name">/configserver/dev/user-center,dev</span><span class="token punctuation">=</span><span class="token value attr-value">dynamictp.executors[0].notifyItems[5].type=queue_timeout</span>
<span class="token key attr-name">/configserver/dev/user-center,dev</span><span class="token punctuation">=</span><span class="token value attr-value">dynamictp.executors[0].notifyItems[5].enabled=true</span>
<span class="token key attr-name">/configserver/dev/user-center,dev</span><span class="token punctuation">=</span><span class="token value attr-value">dynamictp.executors[0].notifyItems[5].threshold=100</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="bootstrap-yml-配置" tabindex="-1"><a class="header-anchor" href="#bootstrap-yml-配置"><span>bootstrap.yml 配置</span></a></h3><div class="language-yaml line-numbers-mode" data-ext="yml" data-title="yml"><pre class="language-yaml"><code><span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">application</span><span class="token punctuation">:</span>
    <span class="token key atrule">name</span><span class="token punctuation">:</span> user<span class="token punctuation">-</span>center
  <span class="token key atrule">cloud</span><span class="token punctuation">:</span>
    <span class="token key atrule">zookeeper</span><span class="token punctuation">:</span>
      <span class="token key atrule">connect-string</span><span class="token punctuation">:</span> 127.0.0.1<span class="token punctuation">:</span><span class="token number">2181</span>
      <span class="token key atrule">config</span><span class="token punctuation">:</span>
        <span class="token key atrule">root</span><span class="token punctuation">:</span> /configserver/dev
      <span class="token key atrule">enabled</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
  <span class="token key atrule">profiles</span><span class="token punctuation">:</span>
    <span class="token key atrule">active</span><span class="token punctuation">:</span> dev
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,14),l=[p];function c(o,r){return n(),s("div",null,l)}const u=a(t,[["render",c],["__file","zookeeper-cloud.html.vue"]]),d=JSON.parse('{"path":"/guide/configcenter/zookeeper-cloud.html","title":"zookeeper-cloud 应用接入","lang":"zh-CN","frontmatter":{"title":"zookeeper-cloud 应用接入","icon":"Zookeeper","order":1,"author":"yanhom","date":"2022-06-11T00:00:00.000Z","tag":["zookeeper-cloud 应用接入","dynamictp"],"sticky":true,"star":true,"description":"提示 动态线程池配置文件，建议单独开一个文件放到 zookeeper 中，方便管理 如果配置中心支持 yml 格式，建议最好使用 yml 文件配置，可读性、可操作性更友好 给出的是全配置项，使用不到的项或者使用默认值的项都可以删除，减少配置量 集成失败 90% 以上情况都是使用姿势有误 / 版本兼容问题，有版本兼容性问题可以提 Issues 或加群反馈...","head":[["meta",{"property":"og:url","content":"https://gitee.com/dromara/dynamic-tp/guide/configcenter/zookeeper-cloud.html"}],["meta",{"property":"og:site_name","content":"dynamictp"}],["meta",{"property":"og:title","content":"zookeeper-cloud 应用接入"}],["meta",{"property":"og:description","content":"提示 动态线程池配置文件，建议单独开一个文件放到 zookeeper 中，方便管理 如果配置中心支持 yml 格式，建议最好使用 yml 文件配置，可读性、可操作性更友好 给出的是全配置项，使用不到的项或者使用默认值的项都可以删除，减少配置量 集成失败 90% 以上情况都是使用姿势有误 / 版本兼容问题，有版本兼容性问题可以提 Issues 或加群反馈..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-03-15T15:33:45.000Z"}],["meta",{"property":"article:author","content":"yanhom"}],["meta",{"property":"article:tag","content":"zookeeper-cloud 应用接入"}],["meta",{"property":"article:tag","content":"dynamictp"}],["meta",{"property":"article:published_time","content":"2022-06-11T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2025-03-15T15:33:45.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"zookeeper-cloud 应用接入\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2022-06-11T00:00:00.000Z\\",\\"dateModified\\":\\"2025-03-15T15:33:45.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"yanhom\\"}]}"]]},"headers":[{"level":3,"title":"maven 依赖","slug":"maven-依赖","link":"#maven-依赖","children":[]},{"level":3,"title":"线程池配置文件","slug":"线程池配置文件","link":"#线程池配置文件","children":[]},{"level":3,"title":"bootstrap.yml 配置","slug":"bootstrap-yml-配置","link":"#bootstrap-yml-配置","children":[]}],"git":{"createdTime":1677776222000,"updatedTime":1742052825000,"contributors":[{"name":"yanhom","email":"yanhom1314@foxmail.com","commits":19}]},"readingTime":{"minutes":5.13,"words":1539},"filePathRelative":"guide/configcenter/zookeeper-cloud.md","localizedDate":"2022年6月11日","autoDesc":true,"excerpt":"<div class=\\"hint-container tip\\">\\n<p class=\\"hint-container-title\\">提示</p>\\n<ul>\\n<li>\\n<p>动态线程池配置文件，建议单独开一个文件放到 zookeeper 中，方便管理</p>\\n</li>\\n<li>\\n<p>如果配置中心支持 yml 格式，建议最好使用 yml 文件配置，可读性、可操作性更友好</p>\\n</li>\\n<li>\\n<p>给出的是全配置项，使用不到的项或者使用默认值的项都可以删除，减少配置量</p>\\n</li>\\n<li>\\n<p>集成失败 90% 以上情况都是使用姿势有误 / 版本兼容问题，有版本兼容性问题可以提 Issues 或加群反馈</p>\\n</li>\\n<li>\\n<p>zookpeer-cloud 应用只支持 properties 配置</p>\\n</li>\\n<li>\\n<p>可以通过 <code>ZKUI</code> 工具快速导入下述格式的配置</p>\\n</li>\\n</ul>\\n</div>"}');export{u as comp,d as data};
