import{usePageFrontmatter as s,usePageLang as c,usePageData as d}from"@vuepress/client";import{defineComponent as p,ref as v,computed as w,onMounted as f,watch as k,h as a,nextTick as T}from"vue";import{LoadingIcon as g}from"vuepress-shared/client";import"../styles/twikoo.scss";const o=COMMENT_OPTIONS,h=!!o.envId;var P=p({name:"TwikooComment",setup(){const m=s(),r=c(),l=d(),i=v(!1),t=w(()=>{if(!h)return!1;const n=o.comment!==!1,e=m.value.comment;return!!e||n!==!1&&e!==!1}),u=async()=>{if(t.value){const[{init:n}]=await Promise.all([import("twikoo"),new Promise(e=>{setTimeout(()=>{T().then(e)},o.delay||800)})]);i.value=!0,await n({lang:r.value==="zh-CN"?"zh-CN":"en",...o,el:"#twikoo-comment"})}};return f(()=>{k(()=>[t.value,l.value.path],()=>u(),{immediate:!0})}),()=>a("div",{class:"twikoo-wrapper",id:"comment",style:{display:t.value?"block":"none"}},i.value?a("div",{id:"twikoo-comment"}):a(g))}});export{P as default};
//# sourceMappingURL=Twikoo.js.map
