{"version":3,"file":"BackToTop.js","sources":["../../../src/client/components/BackToTop.ts"],"sourcesContent":["import { usePageFrontmatter } from \"@vuepress/client\";\nimport { useWindowScroll } from \"@vueuse/core\";\nimport { Transition, type VNode, computed, defineComponent, h } from \"vue\";\nimport { useLocaleConfig } from \"vuepress-shared/client\";\n\nimport { BackToTopIcon } from \"./icons.js\";\nimport { type BackToTopLocaleConfig } from \"../../shared/index.js\";\n\nimport \"balloon-css/balloon.css\";\nimport \"../styles/back-to-top.scss\";\n\ndeclare const BACK_TO_TOP_LOCALES: BackToTopLocaleConfig;\n\nexport default defineComponent({\n  name: \"BackToTop\",\n\n  props: {\n    /**\n     * Threshold distance in pixels to display the button\n     *\n     * 显示按钮的阈值距离，单位为像素\n     */\n    threshold: {\n      type: Number,\n      default: 300,\n    },\n  },\n\n  setup(props) {\n    const pageFrontmatter = usePageFrontmatter<{ backToTop?: boolean }>();\n    const locale = useLocaleConfig(BACK_TO_TOP_LOCALES);\n\n    /** Scroll distance */\n    const { y } = useWindowScroll();\n\n    /** Whether to display button */\n    const show = computed(\n      () =>\n        pageFrontmatter.value.backToTop !== false && y.value > props.threshold\n    );\n\n    return (): VNode =>\n      h(Transition, { name: \"fade\" }, () =>\n        show.value\n          ? h(\n              \"button\",\n              {\n                class: \"back-to-top\",\n                // hint text\n                \"aria-label\": locale.value.backToTop,\n                \"data-balloon-pos\": \"left\",\n                // Scroll to top\n                onClick: () => {\n                  window.scrollTo({ top: 0, behavior: \"smooth\" });\n                },\n              },\n              h(BackToTopIcon)\n            )\n          : null\n      );\n  },\n});\n"],"names":["BackToTop","defineComponent","props","pageFrontmatter","usePageFrontmatter","locale","useLocaleConfig","y","useWindowScroll","show","computed","h","Transition","BackToTopIcon"],"mappings":"qVAaA,IAAAA,EAAeC,EAAgB,CAC7B,KAAM,YAEN,MAAO,CAML,UAAW,CACT,KAAM,OACN,QAAS,GACX,CACF,EAEA,MAAMC,EAAO,CACX,MAAMC,EAAkBC,EAClBC,EAAAA,EAASC,EAAgB,mBAAmB,EAG5C,CAAE,EAAAC,CAAE,EAAIC,EAAgB,EAGxBC,EAAOC,EACX,IACEP,EAAgB,MAAM,YAAc,IAASI,EAAE,MAAQL,EAAM,SACjE,EAEA,MAAO,IACLS,EAAEC,EAAY,CAAE,KAAM,MAAO,EAAG,IAC9BH,EAAK,MACDE,EACE,SACA,CACE,MAAO,cAEP,aAAcN,EAAO,MAAM,UAC3B,mBAAoB,OAEpB,QAAS,IAAM,CACb,OAAO,SAAS,CAAE,IAAK,EAAG,SAAU,QAAS,CAAC,CAChD,CACF,EACAM,EAAEE,CAAa,CACjB,EACA,IACN,CACJ,CACF,CAAC"}