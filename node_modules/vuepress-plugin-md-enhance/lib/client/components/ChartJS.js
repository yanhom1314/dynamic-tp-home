import{defineComponent,ref,onMounted,h}from"vue";import{atou,LoadingIcon}from"vuepress-shared/client";import"../styles/chart.scss";const parseChartConfig=(config,type)=>{if(type==="json")return JSON.parse(config);const exports={},module={exports};return eval(config),module.exports};var ChartJS=defineComponent({name:"ChartJS",props:{config:{type:String,required:!0},id:{type:String,required:!0},title:{type:String,default:""},type:{type:String,default:"json"}},setup(e){const r=ref(),o=ref(),t=ref(!0);return onMounted(async()=>{const[{default:n}]=await Promise.all([import("chart.js/auto"),new Promise(s=>setTimeout(s,MARKDOWN_ENHANCE_DELAY))]);n.defaults.maintainAspectRatio=!1;const a=parseChartConfig(atou(e.config),e.type),i=o.value.getContext("2d");new n(i,a),t.value=!1}),()=>[e.title?h("div",{class:"chart-title"},decodeURIComponent(e.title)):null,t.value?h(LoadingIcon,{class:"chart-loading",height:192}):null,h("div",{ref:r,class:"chart-wrapper",id:e.id,style:{display:t.value?"none":"block"}},h("canvas",{ref:o,height:400}))]}});export{ChartJS as default};
//# sourceMappingURL=ChartJS.js.map
