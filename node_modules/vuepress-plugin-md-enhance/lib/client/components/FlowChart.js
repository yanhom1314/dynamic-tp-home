import{useEventListener as d,useDebounceFn as u}from"@vueuse/core";import{defineComponent as m,ref as i,computed as w,onMounted as h,h as a}from"vue";import{atou as x,LoadingIcon as v}from"vuepress-shared/client";import"../styles/flowchart.scss";var f={x:0,y:0,"line-width":2,"line-length":40,"text-margin":8,"font-size":14,"font-color":"#8DA1AC","line-color":"#8DA1AC","element-color":"black",fill:"white","yes-text":"Yes","no-text":"No","arrow-end":"block",scale:1},F={...f,symbols:{start:{class:"start-element","font-color":"#fff",fill:"#595959","line-width":"0px"},end:{class:"end-element","font-color":"#fff",fill:"#595959","line-width":"0px"},operation:{class:"operation-element","font-color":"#fff",fill:"#1890ff","line-width":"0px"},inputoutput:{class:"inputoutput-element","font-color":"#fff",fill:"#1890ff","line-width":"0px"},subroutine:{class:"subroutine-element","font-color":"#fff",fill:"#FF485E","element-color":"#fff","line-color":"red"},condition:{class:"condition-element","font-color":"#fff",fill:"#FF485E","line-width":"0px"},parallel:{class:"parallel-element","font-color":"#fff",fill:"#1890ff","line-width":"0px"}}},b={...f,"line-width":1,symbols:{start:{class:"start-element",fill:"#ccc","line-width":"1px","line-color":"#5c6ac4","font-color":"#000"},end:{class:"end-element",fill:"#ccc","line-width":"1px","line-color":"#5c6ac4","font-color":"#000"},operation:{class:"operation-element",fill:"#f1f1f1","line-width":"1px","line-color":"#5c6ac4","font-color":"#000"},inputoutput:{class:"inputoutput-element",fill:"#f1f1f1","line-width":"1px","line-color":"#5c6ac4","font-color":"#000"},subroutine:{class:"subroutine-element",fill:"#f1f1f1","line-width":"1px","line-color":"#5c6ac4","font-color":"#000"},condition:{class:"condition-element",fill:"#f1f1f1","line-width":"1px","line-color":"#5c6ac4","font-color":"#000"},parallel:{class:"parallel-element",fill:"#f1f1f1","line-width":"1px","line-color":"#5c6ac4","font-color":"#000"}}},y={...f,symbols:{start:{class:"start-element","font-color":"#fff",fill:"#2F495F","line-width":"0px"},end:{class:"end-element","font-color":"#fff",fill:"#2F495F","line-width":"0px"},operation:{class:"operation-element","font-color":"#fff",fill:"#00BC7D","line-width":"0px"},inputoutput:{class:"inputoutput-element","font-color":"#fff",fill:"#EB4D5D","line-width":"0px"},subroutine:{class:"subroutine-element","font-color":"#fff",fill:"#937AC4","element-color":"#fff","line-color":"red"},condition:{class:"condition-element","font-color":"#fff",fill:"#FFB500","line-width":"0px"},parallel:{class:"parallel-element","font-color":"#fff",fill:"#2F495F","line-width":"0px"}}},s={ant:F,vue:y,pie:b},g=m({name:"FlowChart",props:{code:{type:String,required:!0},id:{type:String,required:!0},preset:{type:String,default:"vue"}},setup(l){let o=null;const p=i(),n=i(!0),t=i(1),r=w(()=>s[l.preset]||(console.warn(`[md-enhance:flowchart] Unknown preset: ${l.preset}`),s.vue)),c=e=>e<419?.8:e>1280?1:.9;return h(()=>{Promise.all([import("flowchart.ts"),new Promise(e=>setTimeout(e,MARKDOWN_ENHANCE_DELAY))]).then(([{parse:e}])=>{o=e(x(l.code)),t.value=c(window.innerWidth),n.value=!1,o.draw(l.id,{...r.value,scale:t.value})}),d("resize",u(()=>{if(o){const e=c(window.innerWidth);t.value!==e&&(t.value=e,o.draw(l.id,{...r.value,scale:e}))}},100))}),()=>[n.value?a(v,{class:"flowchart-loading",height:192}):null,a("div",{ref:p,class:["flowchart-wrapper",l.preset],id:l.id,style:{display:n.value?"none":"block"}})]}});export{g as default};
//# sourceMappingURL=FlowChart.js.map
