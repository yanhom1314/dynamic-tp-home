import{usePageData as f,defineClientConfig as w}from"@vuepress/client";import{useFullscreen as S}from"@vueuse/core";import{onMounted as y,watch as E,nextTick as _}from"vue";import{useLocaleConfig as k}from"vuepress-shared/client";import{isString as P}from"@vuepress/shared";import"photoswipe/dist/photoswipe.css";import"./styles/photo-swipe.scss";const T=PHOTO_SWIPE_SELECTOR,C=PHOTO_SWIPE_LOCALES,O=PHOTO_SWIPE_DELAY,x=PHOTO_SWIPE_OPTIONS,A=e=>P(e)?Array.from(document.querySelectorAll(e)):e.map(t=>Array.from(document.querySelectorAll(t))).flat(),p=e=>new Promise((t,n)=>{e.complete?t({src:e.src,width:e.naturalWidth,height:e.naturalHeight,alt:e.alt}):(e.onload=()=>t(p(e)),e.onerror=s=>n(s))}),H=()=>{const{isSupported:e,toggle:t}=S(),n=k(C),s=f(),c=()=>Promise.all([import("photoswipe"),_().then(()=>new Promise(l=>setTimeout(l,O)).then(()=>A(T)))]).then(([{default:l},m])=>{const h='<div class="photo-swipe-loading"><svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" preserveAspectRatio="xMidYMid" viewBox="25 25 50 50"><animateTransform attributeName="transform" type="rotate" dur="2s" keyTimes="0;1" repeatCount="indefinite" values="0;360"></animateTransform><circle cx="50" cy="50" r="20" fill="none" stroke="currentColor" stroke-width="4" stroke-linecap="round"><animate attributeName="stroke-dasharray" dur="1.5s" keyTimes="0;0.5;1" repeatCount="indefinite" values="1,200;90,200;1,200"></animate><animate attributeName="stroke-dashoffset" dur="1.5s" keyTimes="0;0.5;1" repeatCount="indefinite" values="0;-35px;-125px"></animate></circle></svg></div>';m.forEach((d,v)=>{const u=()=>{const a=Array(m.length).fill({html:h}),o=new l({dataSource:a,preloaderDelay:0,...n.value,...x,index:v});o.on("uiRegister",()=>{e&&o.ui.registerElement({name:"fullscreen",order:7,isButton:!0,html:'<svg class="pswp__icn" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><path d="M249.5 270.833H437v-75H212a37.5 37.5 0 0 0-37.5 37.5v225h75v-187.5zm-37.5 600h225v-75H249.5v-187.5h-75v225a37.5 37.5 0 0 0 37.5 37.5zm637.5-37.5v-225h-75v187.5H587v75h225a37.5 37.5 0 0 0 37.5-37.5zM587 270.833h187.5v187.5h75v-225a37.5 37.5 0 0 0-37.5-37.5H587v75z"/></svg>',onClick:()=>{t()}}),o.ui.registerElement({name:"download",order:8,isButton:!0,tagName:"a",html:{isCustomSVG:!0,inner:'<path d="M20.5 14.3 17.1 18V10h-2.2v7.9l-3.4-3.6L10 16l6 6.1 6-6.1-1.5-1.6ZM23 23H9v2h14" id="pswp__icn-download"/>',outlineID:"pswp__icn-download"},onInit:(r,i)=>{r.setAttribute("download",""),r.setAttribute("target","_blank"),r.setAttribute("rel","noopener"),i.on("change",()=>{r.href=i.currSlide.data.src})}})}),o.init(),m.forEach((r,i)=>{p(r).then(g=>{a.splice(i,1,g),o.refreshSlideContent(i)})})};d.style.cursor="zoom-in",d.addEventListener("click",()=>{u()}),d.addEventListener("keypress",({key:a})=>{a==="Enter"&&u()})})});y(()=>{c(),E(()=>s.value.path,()=>c())})};var I=w({setup:()=>{H()}});export{I as default};
//# sourceMappingURL=config.js.map
