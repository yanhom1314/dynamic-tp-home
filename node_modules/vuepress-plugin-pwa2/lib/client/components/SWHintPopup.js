import{defineComponent as r,ref as p,onMounted as i,h as n,Transition as s}from"vue";import{useLocaleConfig as d}from"vuepress-shared/client";import{l as v,U as c}from"../define-3fd15ee3.js";import"../styles/popup.scss";import{u as m}from"../usePWAEvent-a0a43ffb.js";var f=r({name:"SWHintPopup",setup(g,{slots:t}){const u=d(v),o=p(!1),a=()=>{o.value&&(window.location.reload(!0),o.value=!1)};return i(()=>{const e=m();e.on("updatefound",()=>{navigator.serviceWorker.getRegistration().then(l=>{l&&l.active&&(o.value=!0)})}),e.on("updated",()=>{o.value=!1})}),()=>n(s,{name:"popup"},()=>{var e;return((e=t.default)==null?void 0:e.call(t,{enabled:o.value,uninstall:a}))||(o.value?n("button",{class:"sw-hint-popup",tabindex:0,onClick:()=>a()},[u.value.hint,n("span",{class:"icon-wrapper"},n(c))]):null)})}});export{f as default};
//# sourceMappingURL=SWHintPopup.js.map
