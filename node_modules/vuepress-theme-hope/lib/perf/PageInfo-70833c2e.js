import{defineComponent as p,h as a,ref as m,computed as g,resolveComponent as y}from"vue";import{u,A as I,C as b,a as w,E as A,F as T,T as $,b as C,W as P}from"./locale-dd2db7fd.js";import{usePageData as c,usePageLang as O,ClientOnly as B,withBase as D}from"@vuepress/client";import{useRouter as d,useRoute as E}from"vue-router";import{generateIndexFromHash as v,useLocaleConfig as f}from"vuepress-shared/client";import{isString as S}from"@vuepress/shared";import{useMutationObserver as R}from"@vueuse/core";import"balloon-css/balloon.css";import{c as L}from"./themeData-00bcbd16.js";const h=READING_TIME_LOCALES;var M=p({name:"AuthorInfo",inheritAttrs:!1,props:{author:{type:Array,required:!0},pure:Boolean},setup(e){const o=u();return()=>e.author.length?a("span",{class:"page-author-info","aria-label":`${o.value.author}${e.pure?"":"🖊"}`,...e.pure?{}:{"data-balloon-pos":"down"}},[a(I),a("span",e.author.map(r=>r.url?a("a",{class:"page-author-item",href:r.url,target:"_blank",rel:"noopener noreferrer"},r.name):a("span",{class:"page-author-item"},r.name))),a("span",{property:"author",content:e.author.map(r=>r.name).join(", ")})]):null}}),j=p({name:"CategoryInfo",inheritAttrs:!1,props:{category:{type:Array,required:!0},pure:Boolean},setup(e){const o=d(),r=c(),n=u(),l=(t,i="")=>{i&&r.value.path!==i&&(t.preventDefault(),o.push(i))};return()=>e.category.length?a("span",{class:"page-category-info","aria-label":`${n.value.category}${e.pure?"":"🌈"}`,...e.pure?{}:{"data-balloon-pos":"down"}},[a(b),...e.category.map(({name:t,path:i})=>a("span",{class:["page-category-item",{[`category${v(t,9)}`]:!e.pure,clickable:i}],role:i?"navigation":"",onClick:s=>l(s,i)},t)),a("meta",{property:"articleSection",content:e.category.map(({name:t})=>t).join(",")})]):null}}),k=p({name:"DateInfo",inheritAttrs:!1,props:{date:{type:Object,default:null},localizedDate:{type:String,default:""},pure:Boolean},setup(e){const o=O(),r=u();return()=>{var n,l;return e.date?a("span",{class:"page-date-info","aria-label":`${r.value.date}${e.pure?"":"📅"}`,...e.pure?{}:{"data-balloon-pos":"down"}},[a(w),a("span",a(B,()=>{var t;return e.localizedDate||((t=e.date.value)==null?void 0:t.toLocaleDateString(o.value))})),a("meta",{property:"datePublished",content:((l=(n=e.date)==null?void 0:n.value)==null?void 0:l.toISOString())||""})]):null}}}),N=p({name:"OriginalInfo",inheritAttrs:!1,props:{isOriginal:Boolean},setup(e){const o=u();return()=>e.isOriginal?a("span",{class:"page-original-info"},o.value.origin):null}}),x=p({name:"PageViewInfo",inheritAttrs:!1,props:{pageview:{type:[Boolean,String],default:!1},pure:Boolean},setup(e){const o=E(),r=u(),n=m(),l=m(0);return R(n,()=>{const t=n.value.textContent;t&&!isNaN(Number(t))&&(l.value=Number(t))},{childList:!0}),()=>e.pageview?a("span",{class:"page-pageview-info","aria-label":`${r.value.views}${e.pure?"":"🔢"}`,...e.pure?{}:{"data-balloon-pos":"down"}},[a(l.value<1e3?A:T),a("span",{ref:n,class:"waline-pageview-count",id:"ArtalkPV","data-path":S(e.pageview)?e.pageview:D(o.path)},"...")]):null}}),_=p({name:"ReadingTimeInfo",inheritAttrs:!1,props:{readingTime:{type:Object,default:()=>null},pure:Boolean},setup(e){const o=u(),r=f(h),n=g(()=>{if(!e.readingTime)return null;const{minutes:l}=e.readingTime;return l<1?{text:r.value.less1Minute,time:"PT1M"}:{text:r.value.time.replace("$time",Math.round(l).toString()),time:`PT${Math.round(l)}M`}});return()=>n.value?a("span",{class:"page-reading-time-info","aria-label":`${o.value.readingTime}${e.pure?"":"⌛"}`,...e.pure?{}:{"data-balloon-pos":"down"}},[a($),a("span",n.value.text),a("meta",{property:"timeRequired",content:n.value.time})]):null}}),V=p({name:"TagInfo",inheritAttrs:!1,props:{tag:{type:Array,default:()=>[]},pure:Boolean},setup(e){const o=d(),r=c(),n=u(),l=(t,i="")=>{i&&r.value.path!==i&&(t.preventDefault(),o.push(i))};return()=>e.tag.length?a("span",{class:"page-tag-info","aria-label":`${n.value.tag}${e.pure?"":"🏷"}`,...e.pure?{}:{"data-balloon-pos":"down"}},[a(C),...e.tag.map(({name:t,path:i})=>a("span",{class:["page-tag-item",{[`tag${v(t,9)}`]:!e.pure,clickable:i}],role:i?"navigation":"",onClick:s=>l(s,i)},t)),a("meta",{property:"keywords",content:e.tag.map(({name:t})=>t).join(",")})]):null}}),q=p({name:"ReadTimeInfo",inheritAttrs:!1,props:{readingTime:{type:Object,default:()=>null},pure:Boolean},setup(e){const o=u(),r=f(h),n=g(()=>{var t;return(t=e.readingTime)==null?void 0:t.words.toString()}),l=g(()=>r.value.word.replace("$word",n.value||""));return()=>n.value?a("span",{class:"page-word-info","aria-label":`${o.value.words}${e.pure?"":"🔠"}`,...e.pure?{}:{"data-balloon-pos":"down"}},[a(P),a("span",l.value),a("meta",{property:"wordCount",content:n.value})]):null}}),W=p({name:"PageInfo",components:{AuthorInfo:M,CategoryInfo:j,DateInfo:k,OriginalInfo:N,PageViewInfo:SUPPORT_PAGEVIEW?x:()=>null,ReadingTimeInfo:ENABLE_READING_TIME?_:()=>null,TagInfo:V,WordInfo:q},props:{items:{type:[Array,Boolean],default:()=>["Author","Original","Date","PageView","ReadingTime","Category","Tag"]},info:{type:Object,required:!0}},setup(e){const o=L();return()=>e.items?a("div",{class:"page-info"},e.items.map(r=>a(y(`${r}Info`),{...e.info,pure:o.value}))):null}});export{W as s};
//# sourceMappingURL=PageInfo-70833c2e.js.map
