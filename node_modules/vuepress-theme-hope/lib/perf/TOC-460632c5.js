import{usePageData as g}from"@vuepress/client";import{defineComponent as v,h as o,ref as k,onMounted as C,watch as D}from"vue";import{useRoute as d,RouterLink as T}from"vue-router";import{isActiveLink as b}from"vuepress-shared/client";import{P as L,u as $}from"./locale-dd2db7fd.js";import{u as w,a as y}from"./themeData-00bcbd16.js";var P=v({name:"PrintButton",setup(){const e=w(),t=y();return()=>e.value.print===!1?null:o("button",{class:"print-button",title:t.value.metaLocales.print,onClick:()=>{window.print()}},o(L))}});const R=({title:e,level:t,slug:i})=>o(T,{to:`#${i}`,class:["toc-link",`level${t}`]},()=>e),c=(e,t)=>{const i=d();return e.length&&t>0?o("ul",{class:"toc-list"},e.map(r=>[o("li",{class:["toc-item",{active:b(i,`#${r.slug}`)}]},R(r)),c(r.children,t-1)])):null};var B=v({name:"TOC",props:{items:{type:Array,default:()=>[]},headerDepth:{type:Number,default:2}},setup(e,{slots:t}){const i=d(),r=g(),f=$(),n=k(),p=s=>{var l;(l=n.value)==null||l.scrollTo({top:s,behavior:"smooth"})};return C(()=>{D(()=>i.hash,s=>{if(n.value){const l=document.querySelector(`#toc a.toc-link[href$="${s}"]`);if(!l)return;const{top:a,height:m}=n.value.getBoundingClientRect(),{top:u,height:h}=l.getBoundingClientRect();u<a?p(n.value.scrollTop+u-a):u+h>a+m&&p(n.value.scrollTop+u+h-a-m)}})}),()=>{var s,l;const a=e.items.length?c(e.items,e.headerDepth):r.value.headers?c(r.value.headers,e.headerDepth):null;return a?o("div",{class:"toc-place-holder"},[o("aside",{id:"toc"},[(s=t.before)==null?void 0:s.call(t),o("div",{class:"toc-header"},[f.value.toc,o(P)]),o("div",{class:"toc-wrapper",ref:n},a),(l=t.after)==null?void 0:l.call(t)])]):null}}});export{B as k};
//# sourceMappingURL=TOC-460632c5.js.map
