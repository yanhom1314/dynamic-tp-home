{"version":3,"file":"autoLink-9ca8c894.js","sources":["../../src/client/composables/autoLink.ts"],"sourcesContent":["import { useRouter } from \"vue-router\";\nimport { resolveRouteWithRedirect } from \"vuepress-shared/client\";\n\nimport { ArticleInfoType, type AutoLinkOptions } from \"../../shared/index.js\";\n\n/**\n * Resolve AutoLink props from string\n *\n * @example\n * - Input: \"/README.md\"\n * - Output: { text: \"Home\", link: \"/\" }\n */\nexport const useAutoLink = (\n  item: string,\n  preferFull = false\n): AutoLinkOptions => {\n  const router = useRouter();\n  const { fullPath, meta, name } = resolveRouteWithRedirect(\n    router,\n    encodeURI(item)\n  );\n\n  return {\n    text:\n      !preferFull && meta[ArticleInfoType.shortTitle]\n        ? meta[ArticleInfoType.shortTitle]\n        : meta[ArticleInfoType.title] || item,\n    link: name === \"404\" ? item : fullPath,\n    ...(meta[ArticleInfoType.icon] ? { icon: meta[ArticleInfoType.icon] } : {}),\n  };\n};\n"],"names":["useAutoLink","item","preferFull","router","useRouter","fullPath","meta","name","resolveRouteWithRedirect","ArticleInfoType"],"mappings":"gJAYO,MAAMA,EAAc,CACzBC,EACAC,EAAa,KACO,CACpB,MAAMC,EAASC,EACT,EAAA,CAAE,SAAAC,EAAU,KAAAC,EAAM,KAAAC,CAAK,EAAIC,EAC/BL,EACA,UAAUF,CAAI,CAChB,EAEA,MAAO,CACL,KACE,CAACC,GAAcI,EAAKG,EAAgB,UAAU,EAC1CH,EAAKG,EAAgB,UAAU,EAC/BH,EAAKG,EAAgB,KAAK,GAAKR,EACrC,KAAMM,IAAS,MAAQN,EAAOI,EAC9B,GAAIC,EAAKG,EAAgB,IAAI,EAAI,CAAE,KAAMH,EAAKG,EAAgB,IAAI,CAAE,EAAI,CAAA,CAC1E,CACF"}