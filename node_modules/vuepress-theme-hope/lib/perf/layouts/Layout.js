import{usePageData as f,usePageFrontmatter as m,useSiteLocaleData as A,withBase as R,useRouteLocale as M,ClientOnly as N}from"@vuepress/client";import{computed as p,defineComponent as d,h as e,ref as G,onMounted as U,watch as V,resolveComponent as I}from"vue";import{l as O,c as W}from"../SkipLink-a30e2bcf.js";import{isLinkHttp as j,removeLeadingSlash as z,removeEndingSlash as T,isLinkExternal as F,isArray as _,isString as K,isPlainObject as q}from"@vuepress/shared";import{RouterLink as x,useRouter as J}from"vue-router";import{p as y,d as P,u as Q}from"../setup-60c0410b.js";import{p as b}from"../locale-dd2db7fd.js";import{P as E}from"../MarkdownContent-9f77f0ca.js";import{a as h,c as X,u as Y}from"../themeData-00bcbd16.js";import{resolveRepoType as Z,resolveRouteWithRedirect as ee,IconBase as ae,hasGlobalComponent as $,RenderDefault as le}from"vuepress-shared/client";import{A as D}from"../blog-7d4a3cd3.js";import{useEventListener as te}from"@vueuse/core";import{u as ne}from"../navigate-234be96e.js";import{u as re}from"../autoLink-9ca8c894.js";import{s as oe}from"../PageInfo-70833c2e.js";import{e as ue,u as ie}from"../pageInfo-5ef8f837.js";import{k as se}from"../TOC-460632c5.js";import{u as ce}from"../darkmode-367993ca.js";import{v as ve}from"../FadeSlideY-7d43815d.js";import"@vuepress/plugin-external-link-icon/client";import"@temp/theme-hope/sidebar";import"@vuepress/plugin-theme-data/client";import"balloon-css/balloon.css";import"../scrollPromise-1008489a.js";const pe={GitHub:":repo/edit/:branch/:path",GitLab:":repo/-/edit/:branch/:path",Gitee:":repo/edit/:branch/:path",Bitbucket:":repo/src/:branch/:path?mode=edit&spa=0&at=:branch&fileviewer=file-view-default"},me=({docsRepo:n,docsBranch:a,docsDir:l,filePathRelative:o,editLinkPattern:t})=>{if(!o)return null;const r=Z(n);let i;return t?i=t:r!==null&&(i=pe[r]),i?i.replace(/:repo/,j(n)?n:`https://github.com/${n}`).replace(/:branch/,a).replace(/:path/,z(`${T(l)}/${o}`)):null},de=()=>{const n=h(),a=f(),l=m();return p(()=>{const{repo:o,docsRepo:t=o,docsBranch:r="main",docsDir:i="",editLink:u,editLinkPattern:s=""}=n.value;if(!(l.value.editLink??u??!0)||!t)return null;const c=me({docsRepo:t,docsBranch:r,docsDir:i,editLinkPattern:s,filePathRelative:a.value.filePathRelative});return c?{text:n.value.metaLocales.editLink,link:c}:null})},he=()=>{const n=A(),a=h(),l=f(),o=m();return p(()=>{var t,r;return!(o.value.lastUpdated??a.value.lastUpdated??!0)||!((t=l.value.git)!=null&&t.updatedTime)?null:new Date((r=l.value.git)==null?void 0:r.updatedTime).toLocaleString(n.value.lang)})},fe=()=>{const n=h(),a=f(),l=m();return p(()=>{var o;return l.value.contributors??n.value.contributors??!0?((o=a.value.git)==null?void 0:o.contributors)??null:null})};var ge=d({name:"FeaturePanel",props:{items:{type:Object,default:()=>[]},header:{type:String,default:""}},setup(n){return()=>e("div",{class:"feature-panel"},[n.header?e("h2",{class:"feature-header"},n.header):null,n.items.length?e("div",{class:"feature-wrapper"},n.items.map(a=>{const l=[e("h3",[e(y,{icon:a.icon}),e("span",{innerHTML:a.title})]),e("p",{innerHTML:a.details})];return a.link?F(a.link)?e("a",{class:"feature-item link",href:a.link,role:"navigation","aria-label":a.title,target:"_blank"},l):e(x,{class:"feature-item link",to:a.link,role:"navigation","aria-label":a.title},()=>l):e("div",{class:"feature-item"},l)})):null])}}),be=d({name:"HeroInfo",setup(n,{slots:a}){const l=m(),o=A(),t=p(()=>l.value.heroText===!1?!1:l.value.heroText||o.value.title||"Hello"),r=p(()=>l.value.tagline===!1?!1:l.value.tagline||o.value.description||"Welcome to your VuePress site"),i=p(()=>l.value.heroImage?R(l.value.heroImage):null),u=p(()=>l.value.heroImageDark?R(l.value.heroImageDark):null),s=p(()=>l.value.heroAlt||t.value||"hero"),c=p(()=>l.value.actions??[]);return()=>{var v,g;return e("header",{class:"hero-info-wrapper"},[((v=a.heroImage)==null?void 0:v.call(a))||e(b,{appear:!0,type:"group"},()=>[i.value?e("img",{key:"light",class:{light:u.value},src:i.value,alt:s.value}):null,u.value?e("img",{key:"dark",class:"dark",src:u.value,alt:s.value}):null]),((g=a.heroInfo)==null?void 0:g.call(a))||e("div",{class:"hero-info"},[t.value?e(b,{appear:!0,delay:.04},()=>e("h1",{id:"main-title"},t.value)):null,r.value?e(b,{appear:!0,delay:.08},()=>e("p",{class:"description"},r.value)):null,c.value.length?e(b,{appear:!0,delay:.12},()=>e("p",{class:"actions"},c.value.map(k=>e(P,{class:["action-button",k.type||"default"],config:k,noExternalLinkIcon:!0})))):null])])}}}),ke=d({name:"HopePage",setup(n,{slots:a}){const l=X(),o=m(),t=p(()=>{const{features:r}=o.value;return _(r)?r.some(i=>!("items"in i))?[{items:r}]:r:[]});return()=>{var r,i,u;return e("main",{class:["home project",{pure:l.value}],id:"main-content","aria-labelledby":o.value.heroText===null?void 0:"main-title"},[(r=a.top)==null?void 0:r.call(a),e(be),t.value.map(({header:s="",items:c},v)=>e(b,{appear:!0,delay:.16+v*.08},()=>e(ge,{header:s,items:c}))),(i=a.center)==null?void 0:i.call(a),e(b,{appear:!0,delay:.16+t.value.length*.08},()=>e(E)),(u=a.bottom)==null?void 0:u.call(a)])}}});const Le=(n,a)=>{const l=n.replace(a,"/").split("/"),o=[];let t=T(a);return l.forEach((r,i)=>{i!==l.length-1?(t+=`${r}/`,o.push(t)):r!==""&&(t+=r,o.push(t))}),o};var ye=d({name:"BreadCrumb",setup(){const n=J(),a=f(),l=M(),o=m(),t=h(),r=G([]),i=p(()=>(o.value.breadcrumb||o.value.breadcrumb!==!1&&t.value.breadcrumb!==!1)&&r.value.length>1),u=p(()=>o.value.breadcrumbIcon||o.value.breadcrumbIcon!==!1&&t.value.breadcrumbIcon!==!1),s=()=>{const c=n.getRoutes(),v=Le(a.value.path,l.value).map(g=>{const k=c.find(L=>L.path===g);if(k){const{meta:L,path:C}=ee(n,k.path),w=L[D.shortTitle]||L[D.title];if(w)return{title:w,icon:L[D.icon],path:C}}return null}).filter(g=>g!==null);v.length>1&&(r.value=v)};return U(()=>{s(),V(()=>a.value.path,s)}),()=>e("nav",{class:["breadcrumb",{disable:!i.value}]},i.value?e("ol",{vocab:"https://schema.org/",typeof:"BreadcrumbList"},r.value.map((c,v)=>e("li",{class:{"is-active":r.value.length-1===v},property:"itemListElement",typeof:"ListItem"},[e(x,{to:c.path,property:"item",typeof:"WebPage"},()=>[u.value?e(y,{icon:c.icon}):null,e("span",{property:"name"},c.title||"Unknown")]),e("meta",{property:"position",content:v+1})]))):[])}});const S=n=>n===!1?!1:K(n)?re(n,!0):q(n)?n:null,B=(n,a,l)=>{const o=n.findIndex(t=>t.link===a);if(o!==-1){const t=n[o+l];return t!=null&&t.link?t:null}for(const t of n)if(t.children){const r=B(t.children,a,l);if(r)return r}return null};var Ie=d({name:"PageNav",setup(){const n=h(),a=m(),l=Q(),o=f(),t=ne(),r=p(()=>{const u=S(a.value.prev);return u===!1?null:u||(n.value.prevLink===!1?null:B(l.value,o.value.path,-1))}),i=p(()=>{const u=S(a.value.next);return u===!1?null:u||(n.value.nextLink===!1?null:B(l.value,o.value.path,1))});return te("keydown",u=>{u.altKey&&(u.key==="ArrowRight"?i.value&&(t(i.value.link),u.preventDefault()):u.key==="ArrowLeft"&&r.value&&(t(r.value.link),u.preventDefault()))}),()=>r.value||i.value?e("nav",{class:"page-nav"},[r.value?e(P,{class:"prev",config:r.value},()=>{var u,s;return[e("div",{class:"hint"},[e("span",{class:"arrow start"}),n.value.metaLocales.prev]),e("div",{class:"link"},[e(y,{icon:(u=r.value)==null?void 0:u.icon}),(s=r.value)==null?void 0:s.text])]}):null,i.value?e(P,{class:"next",config:i.value},()=>{var u,s;return[e("div",{class:"hint"},[n.value.metaLocales.next,e("span",{class:"arrow end"})]),e("div",{class:"link"},[(u=i.value)==null?void 0:u.text,e(y,{icon:(s=i.value)==null?void 0:s.icon})])]}):null]):null}}),Pe=d({name:"PageTitle",setup(){const n=f(),a=m(),l=h(),{info:o,items:t}=ue();return()=>e("div",{class:"page-title"},[e("h1",[l.value.titleIcon===!1?null:e(y,{icon:a.value.icon}),n.value.title]),e(oe,{info:o.value,...t.value===null?{}:{items:t.value}}),e("hr")])}});const H=()=>e(ae,{name:"edit"},()=>[e("path",{d:"M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"}),e("path",{d:"M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"})]);H.displayName="EditIcon";var De=d({name:"PageMeta",setup(){const n=h(),a=de(),l=he(),o=fe();return()=>{const{metaLocales:t}=n.value;return e("footer",{class:"page-meta"},[a.value?e("div",{class:"meta-item edit-link"},e(P,{class:"label",config:a.value},{before:()=>e(H)})):null,e("div",{class:"meta-item git-info"},[l.value?e("div",{class:"update-time"},[e("span",{class:"label"},`${t.lastUpdated}: `),e(N,()=>e("span",{class:"info"},l.value))]):null,o.value&&o.value.length?e("div",{class:"contributors"},[e("span",{class:"label"},`${t.contributors}: `),o.value.map(({email:r,name:i},u)=>[e("span",{class:"contributor",title:`email: ${r}`},i),u!==o.value.length-1?",":""])]):null])])}}}),Be=d({name:"NormalPage",setup(n,{slots:a}){const l=m(),{isDarkmode:o}=ce(),t=h(),r=p(()=>l.value.toc||l.value.toc!==!1&&t.value.toc!==!1);return()=>e("main",{class:"page",id:"main-content"},e($("LocalEncrypt")?I("LocalEncrypt"):le,()=>{var i,u,s,c;return[(i=a.top)==null?void 0:i.call(a),e(ye),e(Pe),r.value?e(se,{headerDepth:l.value.headerDepth??t.value.headerDepth??2},{before:()=>{var v;return(v=a.tocBefore)==null?void 0:v.call(a)},after:()=>{var v;return(v=a.tocAfter)==null?void 0:v.call(a)}}):null,(u=a.contentBefore)==null?void 0:u.call(a),e(E),(s=a.contentAfter)==null?void 0:s.call(a),e(De),e(Ie),$("CommentService")?e(I("CommentService"),{darkmode:o.value}):null,(c=a.bottom)==null?void 0:c.call(a)]}))}}),we=d({name:"Layout",setup(){const n=Y(),a=h(),l=f(),o=m(),{isMobile:t}=ie(),r=p(()=>{var i,u;return ENABLE_BLOG?((i=a.value.blog)==null?void 0:i.sidebarDisplay)||((u=n.value.blog)==null?void 0:u.sidebarDisplay)||"mobile":"none"});return()=>[e(O),e(W,{},{default:()=>o.value.home?e(ke):e(ve,()=>e(Be,{key:l.value.path})),...r.value!=="none"?{navScreenBottom:()=>e(I("BloggerInfo"))}:{},...!t.value&&r.value==="always"?{sidebar:()=>e(I("BloggerInfo"))}:{}})]}});export{we as default};
//# sourceMappingURL=Layout.js.map
