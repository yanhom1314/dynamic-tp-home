{"version":3,"file":"BloggerInfo.js","sources":["../../../../../src/client/modules/blog/components/BloggerInfo.ts"],"sourcesContent":["import { useSiteLocaleData, withBase } from \"@vuepress/client\";\nimport { type VNode, computed, defineComponent, h } from \"vue\";\nimport { getAuthor, keys } from \"vuepress-shared/client\";\n\nimport { useNavigate, useThemeLocaleData } from \"@theme-hope/composables/index\";\nimport SocialMedia from \"@theme-hope/modules/blog/components/SocialMedia\";\nimport {\n  useArticles,\n  useBlogOptions,\n  useCategoryMap,\n  useTagMap,\n  useTimelines,\n} from \"@theme-hope/modules/blog/composables/index\";\n\nimport \"../styles/blogger-info.scss\";\n\nexport default defineComponent({\n  name: \"BloggerInfo\",\n\n  setup() {\n    const blogOptions = useBlogOptions();\n    const siteLocale = useSiteLocaleData();\n    const themeLocale = useThemeLocaleData();\n    const articles = useArticles();\n    const categoryMap = useCategoryMap();\n    const tagMap = useTagMap();\n    const timelines = useTimelines();\n    const navigate = useNavigate();\n\n    const bloggerName = computed(\n      () =>\n        blogOptions.value.name ||\n        getAuthor(themeLocale.value.author)[0]?.name ||\n        siteLocale.value.title\n    );\n\n    const bloggerAvatar = computed(\n      () => blogOptions.value.avatar || themeLocale.value.logo\n    );\n\n    const locale = computed(() => themeLocale.value.blogLocales);\n\n    const intro = computed(() => blogOptions.value.intro);\n\n    return (): VNode =>\n      h(\n        \"div\",\n        {\n          class: \"blogger-info\",\n          vocab: \"https://schema.org/\",\n          typeof: \"Person\",\n        },\n        [\n          h(\n            \"div\",\n            {\n              class: \"blogger\",\n              ...(intro.value\n                ? {\n                    style: { cursor: \"pointer\" },\n                    \"aria-label\": locale.value.intro,\n                    \"data-balloon-pos\": \"down\",\n                    role: \"navigation\",\n                    onClick: () => navigate(intro.value!),\n                  }\n                : {}),\n            },\n            [\n              bloggerAvatar.value\n                ? h(\"img\", {\n                    class: [\n                      \"blogger-avatar\",\n                      { round: blogOptions.value.roundAvatar },\n                    ],\n                    src: withBase(bloggerAvatar.value),\n                    property: \"image\",\n                    alt: \"Blogger Avatar\",\n                  })\n                : null,\n              bloggerName.value\n                ? h(\n                    \"div\",\n                    { class: \"blogger-name\", property: \"name\" },\n                    bloggerName.value\n                  )\n                : null,\n              blogOptions.value.description\n                ? h(\"div\", {\n                    class: \"blogger-description\",\n                    innerHTML: blogOptions.value.description,\n                  })\n                : null,\n              intro.value\n                ? h(\"meta\", { property: \"url\", content: withBase(intro.value) })\n                : null,\n            ]\n          ),\n          h(\"div\", { class: \"num-wrapper\" }, [\n            h(\"div\", { onClick: () => navigate(articles.value.path) }, [\n              h(\"div\", { class: \"num\" }, articles.value.items.length),\n              h(\"div\", locale.value.article),\n            ]),\n            h(\"div\", { onClick: () => navigate(categoryMap.value.path) }, [\n              h(\"div\", { class: \"num\" }, keys(categoryMap.value.map).length),\n              h(\"div\", locale.value.category),\n            ]),\n            h(\"div\", { onClick: () => navigate(tagMap.value.path) }, [\n              h(\"div\", { class: \"num\" }, keys(tagMap.value.map).length),\n              h(\"div\", locale.value.tag),\n            ]),\n            h(\"div\", { onClick: () => navigate(timelines.value.path) }, [\n              h(\"div\", { class: \"num\" }, timelines.value.items.length),\n              h(\"div\", locale.value.timeline),\n            ]),\n          ]),\n          h(SocialMedia),\n        ]\n      );\n  },\n});\n"],"names":["BloggerInfo","defineComponent","blogOptions","useBlogOptions","siteLocale","useSiteLocaleData","themeLocale","useThemeLocaleData","articles","useArticles","categoryMap","useCategoryMap","tagMap","useTagMap","timelines","useTimelines","navigate","useNavigate","bloggerName","computed","_a","getAuthor","bloggerAvatar","locale","intro","h","withBase","keys","SocialMedia"],"mappings":"umBAgBA,IAAAA,EAAeC,EAAgB,CAC7B,KAAM,cAEN,OAAQ,CACN,MAAMC,EAAcC,IACdC,EAAaC,EAAAA,EACbC,EAAcC,EAAAA,EACdC,EAAWC,IACXC,EAAcC,IACdC,EAASC,EAAAA,EACTC,EAAYC,EAAAA,EACZC,EAAWC,IAEXC,EAAcC,EAClB,IAAG,CA9BT,IAAAC,EA+BQ,OAAAlB,EAAY,MAAM,QAClBkB,EAAAC,EAAUf,EAAY,MAAM,MAAM,EAAE,CAAC,IAArC,KAAA,OAAAc,EAAwC,OACxChB,EAAW,MAAM,KAAA,CACrB,EAEMkB,EAAgBH,EACpB,IAAMjB,EAAY,MAAM,QAAUI,EAAY,MAAM,IACtD,EAEMiB,EAASJ,EAAS,IAAMb,EAAY,MAAM,WAAW,EAErDkB,EAAQL,EAAS,IAAMjB,EAAY,MAAM,KAAK,EAEpD,MAAO,IACLuB,EACE,MACA,CACE,MAAO,eACP,MAAO,sBACP,OAAQ,QACV,EACA,CACEA,EACE,MACA,CACE,MAAO,UACP,GAAID,EAAM,MACN,CACE,MAAO,CAAE,OAAQ,SAAU,EAC3B,aAAcD,EAAO,MAAM,MAC3B,mBAAoB,OACpB,KAAM,aACN,QAAS,IAAMP,EAASQ,EAAM,KAAM,CACtC,EACA,CAAA,CACN,EACA,CACEF,EAAc,MACVG,EAAE,MAAO,CACP,MAAO,CACL,iBACA,CAAE,MAAOvB,EAAY,MAAM,WAAY,CACzC,EACA,IAAKwB,EAASJ,EAAc,KAAK,EACjC,SAAU,QACV,IAAK,gBACP,CAAC,EACD,KACJJ,EAAY,MACRO,EACE,MACA,CAAE,MAAO,eAAgB,SAAU,MAAO,EAC1CP,EAAY,KACd,EACA,KACJhB,EAAY,MAAM,YACduB,EAAE,MAAO,CACP,MAAO,sBACP,UAAWvB,EAAY,MAAM,WAC/B,CAAC,EACD,KACJsB,EAAM,MACFC,EAAE,OAAQ,CAAE,SAAU,MAAO,QAASC,EAASF,EAAM,KAAK,CAAE,CAAC,EAC7D,IACN,CACF,EACAC,EAAE,MAAO,CAAE,MAAO,aAAc,EAAG,CACjCA,EAAE,MAAO,CAAE,QAAS,IAAMT,EAASR,EAAS,MAAM,IAAI,CAAE,EAAG,CACzDiB,EAAE,MAAO,CAAE,MAAO,KAAM,EAAGjB,EAAS,MAAM,MAAM,MAAM,EACtDiB,EAAE,MAAOF,EAAO,MAAM,OAAO,CAC/B,CAAC,EACDE,EAAE,MAAO,CAAE,QAAS,IAAMT,EAASN,EAAY,MAAM,IAAI,CAAE,EAAG,CAC5De,EAAE,MAAO,CAAE,MAAO,KAAM,EAAGE,EAAKjB,EAAY,MAAM,GAAG,EAAE,MAAM,EAC7De,EAAE,MAAOF,EAAO,MAAM,QAAQ,CAChC,CAAC,EACDE,EAAE,MAAO,CAAE,QAAS,IAAMT,EAASJ,EAAO,MAAM,IAAI,CAAE,EAAG,CACvDa,EAAE,MAAO,CAAE,MAAO,KAAM,EAAGE,EAAKf,EAAO,MAAM,GAAG,EAAE,MAAM,EACxDa,EAAE,MAAOF,EAAO,MAAM,GAAG,CAC3B,CAAC,EACDE,EAAE,MAAO,CAAE,QAAS,IAAMT,EAASF,EAAU,MAAM,IAAI,CAAE,EAAG,CAC1DW,EAAE,MAAO,CAAE,MAAO,KAAM,EAAGX,EAAU,MAAM,MAAM,MAAM,EACvDW,EAAE,MAAOF,EAAO,MAAM,QAAQ,CAChC,CAAC,CACH,CAAC,EACDE,EAAEG,CAAW,CACf,CACF,CACJ,CACF,CAAC"}