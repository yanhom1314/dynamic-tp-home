{"version":3,"file":"BlogCategory.js","sources":["../../../../../src/client/modules/blog/layouts/BlogCategory.ts"],"sourcesContent":["import { usePageData, usePageFrontmatter } from \"@vuepress/client\";\nimport {\n  type VNode,\n  computed,\n  defineComponent,\n  h,\n  resolveComponent,\n} from \"vue\";\nimport {\n  type BlogCategoryFrontmatterOptions,\n  type BlogPluginFrontmatter,\n} from \"vuepress-plugin-blog2\";\n\nimport DropTransition from \"@theme-hope/components/transitions/DropTransition\";\nimport ArticleList from \"@theme-hope/modules/blog/components/ArticleList\";\nimport BlogWrapper from \"@theme-hope/modules/blog/components/BlogWrapper\";\nimport CategoryList from \"@theme-hope/modules/blog/components/CategoryList\";\nimport InfoPanel from \"@theme-hope/modules/blog/components/InfoPanel\";\nimport TagList from \"@theme-hope/modules/blog/components/TagList\";\nimport {\n  useCategoryMap,\n  useTagMap,\n} from \"@theme-hope/modules/blog/composables/index\";\n\nimport \"../styles/page.scss\";\n\nexport default defineComponent({\n  name: \"BlogPage\",\n\n  components: {\n    CategoryList,\n    TagList,\n  },\n\n  setup() {\n    const page = usePageData();\n    const frontmatter = usePageFrontmatter<BlogPluginFrontmatter>();\n    const categoryMap = useCategoryMap();\n    const tagMap = useTagMap();\n    const blogOptions = computed(\n      () => (frontmatter.value.blog || {}) as BlogCategoryFrontmatterOptions\n    );\n\n    const componentName = computed(() => {\n      const { key = \"\" } = blogOptions.value;\n\n      return key === \"category\"\n        ? \"CategoryList\"\n        : key === \"tag\"\n        ? \"TagList\"\n        : null;\n    });\n\n    const items = computed(() => {\n      const { name = \"\", key = \"\" } = blogOptions.value;\n\n      return key === \"category\"\n        ? name\n          ? categoryMap.value.map[name].items\n          : []\n        : key === \"tag\"\n        ? name\n          ? tagMap.value.map[name].items\n          : []\n        : [];\n    });\n\n    return (): VNode =>\n      h(BlogWrapper, () =>\n        h(\n          \"div\",\n          { class: \"page blog\" },\n          h(\"div\", { class: \"blog-page-wrapper\" }, [\n            h(\"main\", { class: \"blog-main\", id: \"main-content\" }, [\n              h(DropTransition, () =>\n                componentName.value\n                  ? h(resolveComponent(componentName.value))\n                  : null\n              ),\n              blogOptions.value.name\n                ? h(DropTransition, { appear: true, delay: 0.24 }, () =>\n                    h(ArticleList, { key: page.value.path, items: items.value })\n                  )\n                : null,\n            ]),\n            h(DropTransition, { delay: 0.16 }, () => h(InfoPanel)),\n          ])\n        )\n      );\n  },\n});\n"],"names":["BlogCategory","defineComponent","CategoryList","TagList","page","usePageData","frontmatter","usePageFrontmatter","categoryMap","useCategoryMap","tagMap","useTagMap","blogOptions","computed","componentName","key","items","name","h","BlogWrapper","DropTransition","resolveComponent","ArticleList","InfoPanel"],"mappings":"gsCA0BA,IAAAA,EAAeC,EAAgB,CAC7B,KAAM,WAEN,WAAY,CACV,aAAAC,EACA,QAAAC,CACF,EAEA,OAAQ,CACN,MAAMC,EAAOC,EAAAA,EACPC,EAAcC,EAA0C,EACxDC,EAAcC,EAAe,EAC7BC,EAASC,IACTC,EAAcC,EAClB,IAAOP,EAAY,MAAM,MAAQ,CACnC,CAAA,EAEMQ,EAAgBD,EAAS,IAAM,CACnC,KAAM,CAAE,IAAAE,EAAM,EAAG,EAAIH,EAAY,MAEjC,OAAOG,IAAQ,WACX,eACAA,IAAQ,MACR,UACA,IACN,CAAC,EAEKC,EAAQH,EAAS,IAAM,CAC3B,KAAM,CAAE,KAAAI,EAAO,GAAI,IAAAF,EAAM,EAAG,EAAIH,EAAY,MAE5C,OAAOG,IAAQ,WACXE,EACET,EAAY,MAAM,IAAIS,CAAI,EAAE,MAC5B,CAAC,EACHF,IAAQ,MACRE,EACEP,EAAO,MAAM,IAAIO,CAAI,EAAE,MACvB,CACF,EAAA,CACN,CAAA,CAAC,EAED,MAAO,IACLC,EAAEC,EAAa,IACbD,EACE,MACA,CAAE,MAAO,WAAY,EACrBA,EAAE,MAAO,CAAE,MAAO,mBAAoB,EAAG,CACvCA,EAAE,OAAQ,CAAE,MAAO,YAAa,GAAI,cAAe,EAAG,CACpDA,EAAEE,EAAgB,IAChBN,EAAc,MACVI,EAAEG,EAAiBP,EAAc,KAAK,CAAC,EACvC,IACN,EACAF,EAAY,MAAM,KACdM,EAAEE,EAAgB,CAAE,OAAQ,GAAM,MAAO,GAAK,EAAG,IAC/CF,EAAEI,EAAa,CAAE,IAAKlB,EAAK,MAAM,KAAM,MAAOY,EAAM,KAAM,CAAC,CAC7D,EACA,IACN,CAAC,EACDE,EAAEE,EAAgB,CAAE,MAAO,GAAK,EAAG,IAAMF,EAAEK,CAAS,CAAC,CACvD,CAAC,CACH,CACF,CACJ,CACF,CAAC"}