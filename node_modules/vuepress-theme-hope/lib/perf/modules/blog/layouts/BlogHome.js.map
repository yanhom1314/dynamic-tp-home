{"version":3,"file":"BlogHome.js","sources":["../../../../../src/client/modules/blog/components/BlogHero.ts","../../../../../src/client/modules/blog/components/ProjectPanel.ts","../../../../../src/client/modules/blog/components/BlogHome.ts","../../../../../src/client/modules/blog/layouts/BlogHome.ts"],"sourcesContent":["import {\n  usePageFrontmatter,\n  usePageHeadTitle,\n  withBase,\n} from \"@vuepress/client\";\nimport { type VNode, computed, defineComponent, h, ref } from \"vue\";\n\nimport DropTransition from \"@theme-hope/components/transitions/DropTransition\";\n\nimport { SlideDownIcon } from \"./icons/icons.js\";\nimport { type ThemeBlogHomePageFrontmatter } from \"../../../../shared/index.js\";\nimport defaultHeroBgImagePath from \"../assets/hero.jpg\";\n\nimport \"../styles/blog-hero.scss\";\n\nexport default defineComponent({\n  name: \"BlogHero\",\n\n  setup() {\n    const title = usePageHeadTitle();\n    const frontmatter = usePageFrontmatter<ThemeBlogHomePageFrontmatter>();\n\n    const hero = ref<HTMLElement>();\n    const heroImage = computed(() => frontmatter.value.heroImage || null);\n\n    const isFullScreen = computed(\n      () => frontmatter.value.heroFullScreen || false\n    );\n\n    const bgImage = computed(() =>\n      frontmatter.value.bgImage\n        ? withBase(frontmatter.value.bgImage)\n        : frontmatter.value.bgImage ?? defaultHeroBgImagePath\n    );\n\n    return (): VNode | null =>\n      frontmatter.value.hero === false\n        ? null\n        : h(\n            \"div\",\n            {\n              ref: hero,\n              class: [\n                \"blog-hero\",\n                {\n                  fullscreen: isFullScreen.value,\n                  \"no-bg\": !bgImage.value,\n                },\n              ],\n            },\n            [\n              bgImage.value\n                ? h(\"div\", {\n                    class: \"mask\",\n                    style: {\n                      background: `url(${bgImage.value}) center/cover no-repeat`,\n                      ...frontmatter.value.bgImageStyle,\n                    },\n                  })\n                : null,\n              h(DropTransition, { appear: true, delay: 0.04 }, () =>\n                heroImage.value\n                  ? h(\"img\", {\n                      class: \"hero-image\",\n                      style: frontmatter.value.heroImageStyle,\n                      src: withBase(heroImage.value),\n                      alt: frontmatter.value.heroAlt || \"hero image\",\n                    })\n                  : null\n              ),\n              h(DropTransition, { appear: true, delay: 0.08 }, () =>\n                frontmatter.value.heroText === false\n                  ? null\n                  : h(\"h1\", frontmatter.value.heroText || title.value)\n              ),\n              h(DropTransition, { appear: true, delay: 0.12 }, () =>\n                frontmatter.value.tagline\n                  ? h(\"p\", {\n                      class: \"description\",\n                      innerHTML: frontmatter.value.tagline,\n                    })\n                  : null\n              ),\n              isFullScreen.value\n                ? h(\n                    \"button\",\n                    {\n                      class: \"slide-down-button\",\n                      onClick: () => {\n                        window.scrollTo({\n                          top: hero.value!.clientHeight,\n                          behavior: \"smooth\",\n                        });\n                      },\n                    },\n                    [h(SlideDownIcon), h(SlideDownIcon)]\n                  )\n                : null,\n            ]\n          );\n  },\n});\n","import { usePageFrontmatter, withBase } from \"@vuepress/client\";\nimport { isLinkHttp } from \"@vuepress/shared\";\nimport { type VNode, defineComponent, h, resolveComponent } from \"vue\";\nimport { isAbsoluteUrl } from \"vuepress-shared/client\";\n\nimport HopeIcon from \"@theme-hope/components/HopeIcon\";\nimport { useNavigate, usePure } from \"@theme-hope/composables/index\";\nimport {\n  ArticleIcon,\n  BookIcon,\n  FriendIcon,\n  LinkIcon,\n  ProjectIcon,\n} from \"@theme-hope/modules/blog/components/icons/index\";\n\nimport { type ThemeBlogHomePageFrontmatter } from \"../../../../shared/index.js\";\n\nimport \"../styles/project-panel.scss\";\n\nconst AVAILABLE_PROJECT_TYPES = [\n  \"link\",\n  \"article\",\n  \"book\",\n  \"project\",\n  \"friend\",\n];\n\nexport default defineComponent({\n  name: \"ProjectPanel\",\n\n  components: { ArticleIcon, BookIcon, FriendIcon, LinkIcon, ProjectIcon },\n\n  setup() {\n    const frontmatter = usePageFrontmatter<ThemeBlogHomePageFrontmatter>();\n    const pure = usePure();\n    const navigate = useNavigate();\n\n    const renderIcon = (icon = \"\", alt = \"icon\"): VNode | null => {\n      // built in icon\n      if (AVAILABLE_PROJECT_TYPES.includes(icon))\n        return h(resolveComponent(`${icon}-icon`));\n\n      // it’s a full image link\n      if (isLinkHttp(icon)) return h(\"img\", { src: icon, alt, class: \"image\" });\n\n      // it’s an absolute image link\n      if (isAbsoluteUrl(icon))\n        return h(\"img\", { src: withBase(icon), alt, class: \"image\" });\n\n      // render as icon font\n      return h(HopeIcon, { icon });\n    };\n\n    return (): VNode | null =>\n      frontmatter.value.projects?.length\n        ? h(\n            \"div\",\n            { class: \"project-panel\" },\n            frontmatter.value.projects.map(\n              ({ icon, link, name, desc }, index) =>\n                h(\n                  \"div\",\n                  {\n                    class: [\n                      \"project\",\n                      // TODO: magic number 9 is tricky here\n                      { [`project${index % 9}`]: !pure.value },\n                    ],\n                    onClick: () => navigate(link),\n                  },\n                  [\n                    renderIcon(icon, name),\n                    h(\"div\", { class: \"name\" }, name),\n                    h(\"div\", { class: \"desc\" }, desc),\n                  ]\n                )\n            )\n          )\n        : null;\n  },\n});\n","import { type VNode, defineComponent, h } from \"vue\";\n\nimport MarkdownContent from \"@theme-hope/components/MarkdownContent\";\nimport DropTransition from \"@theme-hope/components/transitions/DropTransition\";\nimport ArticleList from \"@theme-hope/modules/blog/components/ArticleList\";\nimport BlogHero from \"@theme-hope/modules/blog/components/BlogHero\";\nimport InfoPanel from \"@theme-hope/modules/blog/components/InfoPanel\";\nimport ProjectPanel from \"@theme-hope/modules/blog/components/ProjectPanel\";\nimport { useArticles } from \"@theme-hope/modules/blog/composables/index\";\n\nimport \"../styles/home.scss\";\n\nexport default defineComponent({\n  name: \"BlogHome\",\n\n  setup() {\n    const articles = useArticles();\n\n    return (): VNode =>\n      h(\"div\", { class: \"page blog\" }, [\n        h(BlogHero),\n        h(\"div\", { class: \"blog-page-wrapper\" }, [\n          h(\"main\", { class: \"blog-home\", id: \"main-content\" }, [\n            h(DropTransition, { appear: true, delay: 0.16 }, () =>\n              h(ProjectPanel)\n            ),\n            h(DropTransition, { appear: true, delay: 0.24 }, () =>\n              h(ArticleList, { items: articles.value.items })\n            ),\n          ]),\n          h(DropTransition, { appear: true, delay: 0.16 }, () => h(InfoPanel)),\n        ]),\n        h(DropTransition, { appear: true, delay: 0.28 }, () =>\n          h(MarkdownContent)\n        ),\n      ]);\n  },\n});\n","import { type VNode, defineComponent, h } from \"vue\";\n\nimport BlogHome from \"@theme-hope/modules/blog/components/BlogHome\";\nimport BlogWrapper from \"@theme-hope/modules/blog/components/BlogWrapper\";\n\nexport default defineComponent({\n  name: \"BlogHome\",\n\n  setup() {\n    return (): VNode => h(BlogWrapper, () => h(BlogHome));\n  },\n});\n"],"names":["m","defineComponent","title","usePageHeadTitle","frontmatter","usePageFrontmatter","hero","ref","heroImage","computed","isFullScreen","bgImage","withBase","defaultHeroBgImagePath","h","DropTransition","SlideDownIcon","AVAILABLE_PROJECT_TYPES","ArticleIcon","BookIcon","FriendIcon","LinkIcon","ProjectIcon","pure","usePure","navigate","useNavigate","renderIcon","icon","alt","resolveComponent","isLinkHttp","isAbsoluteUrl","HopeIcon","_a","link","name","desc","index","r","articles","useArticles","BlogHero","ProjectPanel","ArticleList","InfoPanel","MarkdownContent","BlogWrapper","BlogHome"],"mappings":"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"}