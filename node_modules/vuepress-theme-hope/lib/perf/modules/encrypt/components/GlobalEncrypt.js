import{computed as i,defineComponent as c,ref as v,onMounted as d,h as m}from"vue";import{v as f}from"../../../FadeSlideY-7d43815d.js";import{u as y,c as E}from"../../../utils-51ab35d8.js";import{useStorage as S,useSessionStorage as b}from"@vueuse/core";import{compareSync as p}from"bcrypt-ts/browser";import"../../../scrollPromise-1008489a.js";import"@vuepress/client";import"vuepress-shared/client";import"../../../themeData-00bcbd16.js";import"@vuepress/plugin-theme-data/client";const s="VUEPRESS_HOPE_GLOBAL_TOKEN",g=()=>{const a=y(),r=S(s,""),o=b(s,""),l=i(()=>{const{global:e=!1,admin:t=[]}=a.value;return e&&t.length>0}),n=i(()=>{if(l.value){if(r.value)return a.value.admin.some(e=>p(r.value,e));if(o.value)return a.value.admin.some(e=>p(o.value,e))}return!1});return{isEncrypted:l,isDecrypted:n,validate:(e,t=!1)=>{(t?r:o).value=e}}};var G=c({name:"GlobalEncrypt",setup(a,{slots:r}){const{isDecrypted:o,isEncrypted:l,validate:n}=g(),e=v(!1);return d(()=>{e.value=!0}),()=>m(f,()=>{var t,u;return l.value?e.value?o.value?(t=r.default)==null?void 0:t.call(r):m(E,{full:!0,onVerify:n}):null:(u=r.default)==null?void 0:u.call(r)})}});export{G as default};
//# sourceMappingURL=GlobalEncrypt.js.map
