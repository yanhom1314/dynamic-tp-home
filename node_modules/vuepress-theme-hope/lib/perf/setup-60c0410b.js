import{h as s,resolveComponent as K,defineComponent as Q,toRef as V,computed as u,provide as X,inject as Y}from"vue";import{useRoute as T,RouterLink as Z}from"vue-router";import{withBase as ee,useSiteData as ae,useRouteLocale as te,usePageFrontmatter as le,usePageData as f}from"@vuepress/client";import{ExternalLinkIcon as re}from"@vuepress/plugin-external-link-icon/client";import{isLinkHttp as B,isLinkMailto as ie,isLinkTel as ne,ensureEndingSlash as se,isArray as oe,isPlainObject as ue,isString as ce,isLinkExternal as ve}from"@vuepress/shared";import{isAbsoluteUrl as C,keys as F,startsWith as P,isActiveLink as j}from"vuepress-shared/client";import{sidebarData as I}from"@temp/theme-hope/sidebar";import{a as de}from"./themeData-00bcbd16.js";import{u as H}from"./autoLink-9ca8c894.js";const O=e=>{const{icon:a=""}=e;return B(a)?s("img",{class:"icon",src:a,"no-view":""}):C(a)?s("img",{class:"icon",src:ee(a),"no-view":""}):s(K("FontIcon"),e)};O.displayName="HopeIcon";var b=O,U=Q({name:"AutoLink",inheritAttrs:!1,props:{config:{type:Object,required:!0},exact:Boolean,noExternalLinkIcon:Boolean},emits:["focusout"],setup(e,{attrs:a,emit:l,slots:t}){const r=T(),i=ae(),n=V(e,"config"),v=u(()=>B(n.value.link)),o=u(()=>ie(n.value.link)||ne(n.value.link)),c=u(()=>o.value?void 0:n.value.target||(v.value?"_blank":void 0)),p=u(()=>c.value==="_blank"),h=u(()=>!v.value&&!o.value&&!p.value),z=u(()=>o.value?void 0:n.value.rel||(p.value?"noopener noreferrer":void 0)),L=u(()=>n.value.ariaLabel||n.value.text),G=u(()=>{if(e.exact)return!1;const d=F(i.value.locales);return d.length?d.every(m=>m!==n.value.link):n.value.link!=="/"}),J=u(()=>h.value?n.value.activeMatch?new RegExp(n.value.activeMatch).test(r.path):G.value?P(r.path,n.value.link):r.path===n.value.link:!1);return()=>{var d,m,w;const{text:A,icon:E,link:M}=n.value;return h.value?s(Z,{to:M,"aria-label":L.value,...a,class:["nav-link",{active:J.value},a.class],onFocusout:()=>l("focusout")},()=>{var R,$,D;return((R=t.default)==null?void 0:R.call(t))||[(($=t.before)==null?void 0:$.call(t))||s(b,{icon:E}),A,(D=t.after)==null?void 0:D.call(t)]}):s("a",{href:M,rel:z.value,target:c.value,"aria-label":L.value,...a,class:["nav-link",a.class],onFocusout:()=>l("focusout")},((d=t.default)==null?void 0:d.call(t))||[((m=t.before)==null?void 0:m.call(t))||s(b,{icon:E}),A,e.noExternalLinkIcon?null:s(re),(w=t.after)==null?void 0:w.call(t)])}}});const k=(e,a,l=!1)=>"activeMatch"in a?new RegExp(a.activeMatch).test(e.path):j(e,a.link)?!0:a.children&&!l?a.children.some(t=>k(e,t)):!1,_=(e,a)=>a.type==="group"?a.children.some(l=>l.type==="group"?_(e,l):l.type==="page"&&k(e,l,!0))||"prefix"in a&&j(e,a.prefix):!1,q=(e,a)=>e.link?s(U,{...a,config:e}):s("p",a,[s(b,{icon:e.icon}),e.text]),N=e=>{const a=T();return e?s("ul",{class:"sidebar-sub-headers"},e.map(l=>{const t=k(a,l,!0);return s("li",{class:"sidebar-sub-header"},[q(l,{class:["sidebar-link","heading",{active:t}]}),N(l.children)])})):null},g=(e="",a="")=>C(a)?a:`${se(e)}${a}`,pe=(e,a)=>{const l=f();return{type:"heading",text:e.title,link:`${l.value.path}#${e.slug}`,children:x(e.children,a)}},x=(e,a)=>a>0?e.map(l=>pe(l,a-1)):[],W=e=>{const a=f();return x(a.value.headers,e)},S=(e,a,l="")=>{const t=f(),r=(i,n=l)=>{var v;const o=ce(i)?H(g(n,i)):i.link?{...i,...ve(i.link)?{}:{link:H(g(n,i.link)).link}}:i;if("children"in o){const c=g(n,o.prefix),p=o.children==="structure"?I[c]:o.children;return{type:"group",...o,prefix:c,children:p.map(h=>r(h,c))}}return{type:"page",...o,children:o.link===t.value.path?x(((v=t.value.headers[0])==null?void 0:v.level)===1?t.value.headers[0].children:t.value.headers,a):[]}};return e.map(i=>r(i))},he=(e,a)=>{const l=f(),t=F(e).sort((r,i)=>i.length-r.length);for(const r of t)if(P(decodeURI(l.value.path),r)){const i=e[r];return i?S(i==="structure"?I[r]:i==="heading"?W(a):i,a,r):[]}return console.warn(`${l.value.path} is missing sidebar config.`),[]},me=()=>{const e=te(),a=le(),l=de(),t=a.value.home?!1:a.value.sidebar??l.value.sidebar??"structure",r=a.value.headerDepth??l.value.headerDepth??2;return t===!1?[]:t==="heading"?W(r):t==="structure"?S(I[e.value],r,e.value):oe(t)?S(t,r):ue(t)?he(t,r):[]},y=Symbol.for("sidebarItems"),fe=()=>{const e=u(()=>me());X(y,e)},be=()=>{const e=Y(y);if(!e)throw new Error("useSidebarItems() is called without provider.");return e};export{N as a,fe as b,g as c,U as d,_ as e,k as i,b as p,q as r,y as s,be as u};
//# sourceMappingURL=setup-60c0410b.js.map
