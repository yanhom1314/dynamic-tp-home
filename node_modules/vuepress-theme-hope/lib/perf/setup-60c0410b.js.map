{"version":3,"file":"setup-60c0410b.js","sources":["../../src/client/components/HopeIcon.ts","../../src/client/components/AutoLink.ts","../../src/client/modules/sidebar/utils/isActive.ts","../../src/client/modules/sidebar/composables/render.ts","../../src/client/modules/sidebar/composables/utils.ts","../../src/client/modules/sidebar/composables/resolveConfig.ts","../../src/client/modules/sidebar/composables/setup.ts"],"sourcesContent":["import { withBase } from \"@vuepress/client\";\nimport { isLinkHttp } from \"@vuepress/shared\";\nimport { type FunctionalComponent, h, resolveComponent } from \"vue\";\nimport { isAbsoluteUrl } from \"vuepress-shared/client\";\n\nexport interface IconProps {\n  icon?: string | undefined;\n  color?: string | undefined;\n  size?: number | undefined;\n}\n\nconst HopeIcon: FunctionalComponent<IconProps> = (props) => {\n  const { icon = \"\" } = props;\n\n  return isLinkHttp(icon)\n    ? h(\"img\", { class: \"icon\", src: icon, \"no-view\": \"\" })\n    : isAbsoluteUrl(icon)\n    ? h(\"img\", { class: \"icon\", src: withBase(icon), \"no-view\": \"\" })\n    : h(resolveComponent(\"FontIcon\"), props);\n};\n\nHopeIcon.displayName = \"HopeIcon\";\n\nexport default HopeIcon;\n","import { useSiteData } from \"@vuepress/client\";\nimport { ExternalLinkIcon } from \"@vuepress/plugin-external-link-icon/client\";\nimport { isLinkHttp, isLinkMailto, isLinkTel } from \"@vuepress/shared\";\nimport {\n  type PropType,\n  type VNode,\n  computed,\n  defineComponent,\n  h,\n  toRef,\n} from \"vue\";\nimport { RouterLink, useRoute } from \"vue-router\";\nimport { keys, startsWith } from \"vuepress-shared/client\";\n\nimport HopeIcon from \"@theme-hope/components/HopeIcon\";\n\nimport { type AutoLinkOptions } from \"../../shared/index.js\";\n\nexport default defineComponent({\n  name: \"AutoLink\",\n\n  inheritAttrs: false,\n\n  props: {\n    /**\n     * @description Autolink config\n     */\n    config: {\n      type: Object as PropType<AutoLinkOptions>,\n      required: true,\n    },\n\n    /**\n     * @description Whether it's active only when exact match\n     */\n    exact: Boolean,\n\n    /**\n     * @description Whether to hide externalLinkIcon\n     */\n    noExternalLinkIcon: Boolean,\n  },\n\n  emits: [\"focusout\"],\n\n  setup(props, { attrs, emit, slots }) {\n    const route = useRoute();\n    const siteData = useSiteData();\n\n    const config = toRef(props, \"config\");\n\n    // if the link has http protocol\n    const hasHttpProtocol = computed(() => isLinkHttp(config.value.link));\n\n    // if the link has non-http protocol\n    const hasNonHttpProtocol = computed(\n      () => isLinkMailto(config.value.link) || isLinkTel(config.value.link)\n    );\n\n    // resolve the `target` attr\n    const linkTarget = computed(() =>\n      hasNonHttpProtocol.value\n        ? undefined\n        : config.value.target || (hasHttpProtocol.value ? \"_blank\" : undefined)\n    );\n\n    // if the `target` attr is \"_blank\"\n    const isBlankTarget = computed(() => linkTarget.value === \"_blank\");\n\n    // render `<RouterLink>` or not\n    const renderRouterLink = computed(\n      () =>\n        !hasHttpProtocol.value &&\n        !hasNonHttpProtocol.value &&\n        !isBlankTarget.value\n    );\n\n    // resolve the `rel` attr\n    const anchorRel = computed(() =>\n      hasNonHttpProtocol.value\n        ? undefined\n        : config.value.rel ||\n          (isBlankTarget.value ? \"noopener noreferrer\" : undefined)\n    );\n\n    // resolve the `aria-label` attr\n    const linkAriaLabel = computed(\n      () => config.value.ariaLabel || config.value.text\n    );\n\n    // should be active when current route is a subpath of this link\n    const shouldBeActiveInSubpath = computed(() => {\n      // should not be active in `exact` mode\n      if (props.exact) return false;\n\n      const localeKeys = keys(siteData.value.locales);\n\n      return localeKeys.length\n        ? // check all the locales\n          localeKeys.every((key) => key !== config.value.link)\n        : // check root\n          config.value.link !== \"/\";\n    });\n\n    // if this link is active\n    const isActive = computed(() =>\n      renderRouterLink.value\n        ? config.value.activeMatch\n          ? new RegExp(config.value.activeMatch).test(route.path)\n          : // if this link is active in subpath\n          !shouldBeActiveInSubpath.value\n          ? route.path === config.value.link\n          : startsWith(route.path, config.value.link)\n        : false\n    );\n\n    return (): VNode => {\n      const { text, icon, link } = config.value;\n\n      return renderRouterLink.value\n        ? h(\n            RouterLink,\n            {\n              to: link,\n              \"aria-label\": linkAriaLabel.value,\n              ...attrs,\n              // class needs to be merged manually\n              class: [\"nav-link\", { active: isActive.value }, attrs[\"class\"]],\n              onFocusout: () => emit(\"focusout\"),\n            },\n            () =>\n              slots[\"default\"]?.() || [\n                slots[\"before\"]?.() || h(HopeIcon, { icon }),\n                text,\n                slots[\"after\"]?.(),\n              ]\n          )\n        : h(\n            \"a\",\n            {\n              href: link,\n              rel: anchorRel.value,\n              target: linkTarget.value,\n              \"aria-label\": linkAriaLabel.value,\n              ...attrs,\n              // class needs to be merged manually\n              class: [\"nav-link\", attrs[\"class\"]],\n              onFocusout: () => emit(\"focusout\"),\n            },\n            slots[\"default\"]?.() || [\n              slots[\"before\"]?.() || h(HopeIcon, { icon }),\n              text,\n              props.noExternalLinkIcon ? null : h(ExternalLinkIcon),\n              slots[\"after\"]?.(),\n            ]\n          );\n    };\n  },\n});\n","import { type RouteLocationNormalizedLoaded } from \"vue-router\";\nimport { isActiveLink } from \"vuepress-shared/client\";\n\nimport { type ResolvedSidebarItem } from \"../utils/index.js\";\n\nexport const isActiveSidebarItem = (\n  route: RouteLocationNormalizedLoaded,\n  item: ResolvedSidebarItem,\n  exact = false\n): boolean => {\n  if (\"activeMatch\" in item)\n    return new RegExp(item.activeMatch).test(route.path);\n\n  if (isActiveLink(route, item.link)) return true;\n\n  if (item.children && !exact)\n    return item.children.some((child) => isActiveSidebarItem(route, child));\n\n  return false;\n};\n\nexport const isMatchedSidebarItem = (\n  route: RouteLocationNormalizedLoaded,\n  item: ResolvedSidebarItem\n): boolean => {\n  if (item.type === \"group\")\n    return (\n      item.children.some((child) => {\n        if (child.type === \"group\") return isMatchedSidebarItem(route, child);\n\n        return child.type === \"page\" && isActiveSidebarItem(route, child, true);\n      }) ||\n      (\"prefix\" in item && isActiveLink(route, item.prefix))\n    );\n\n  return false;\n};\n","import { type VNode, h } from \"vue\";\nimport { useRoute } from \"vue-router\";\n\nimport AutoLink from \"@theme-hope/components/AutoLink\";\nimport HopeIcon from \"@theme-hope/components/HopeIcon\";\nimport { isActiveSidebarItem } from \"@theme-hope/modules/sidebar/utils/index\";\n\nimport { type AutoLinkOptions as AutoLinkType } from \"../../../../shared/index.js\";\nimport {\n  type ResolvedSidebarHeaderItem,\n  type ResolvedSidebarItem,\n} from \"../utils/index.js\";\n\nexport const renderItem = (\n  config: ResolvedSidebarItem,\n  props: VNode[\"props\"]\n): VNode =>\n  config.link\n    ? // if the item has link, render it as `<AutoLink>`\n      h(AutoLink, {\n        ...props,\n        config: config as AutoLinkType,\n      })\n    : // if the item only has text, render it as `<p>`\n      h(\"p\", props, [h(HopeIcon, { icon: config.icon }), config.text]);\n\nexport const renderChildren = (\n  children: ResolvedSidebarHeaderItem[]\n): VNode | null => {\n  const route = useRoute();\n\n  if (!children) return null;\n\n  return h(\n    \"ul\",\n    { class: \"sidebar-sub-headers\" },\n    children.map((child) => {\n      const active = isActiveSidebarItem(route, child, true);\n\n      return h(\"li\", { class: \"sidebar-sub-header\" }, [\n        renderItem(child, {\n          class: [\"sidebar-link\", \"heading\", { active }],\n        }),\n        renderChildren(child.children),\n      ]);\n    })\n  );\n};\n","import { ensureEndingSlash } from \"@vuepress/shared\";\nimport { isAbsoluteUrl } from \"vuepress-shared/client\";\n\nexport const resolvePrefix = (prefix = \"\", path = \"\"): string =>\n  isAbsoluteUrl(path) ? path : `${ensureEndingSlash(prefix)}${path}`;\n","/* eslint-disable @typescript-eslint/no-unsafe-argument */\nimport {\n  type PageHeader,\n  usePageData,\n  usePageFrontmatter,\n  useRouteLocale,\n} from \"@vuepress/client\";\nimport {\n  isArray,\n  isLinkExternal,\n  isPlainObject,\n  isString,\n} from \"@vuepress/shared\";\nimport { keys, startsWith } from \"vuepress-shared/client\";\n\nimport { sidebarData } from \"@temp/theme-hope/sidebar\";\nimport { useAutoLink, useThemeLocaleData } from \"@theme-hope/composables/index\";\n\nimport { resolvePrefix } from \"./utils.js\";\nimport {\n  type SidebarArrayOptions,\n  type SidebarItem,\n  type SidebarObjectOptions,\n  type ThemeNormalPageFrontmatter,\n} from \"../../../../shared/index.js\";\nimport {\n  type ResolvedSidebarGroupItem,\n  type ResolvedSidebarHeaderItem,\n  type ResolvedSidebarItem,\n  type ResolvedSidebarPageItem,\n} from \"../utils/index.js\";\n\n/**\n * Util to transform page header to sidebar item\n */\nexport const headerToSidebarItem = (\n  header: PageHeader,\n  headerDepth: number\n): ResolvedSidebarHeaderItem => {\n  const page = usePageData();\n\n  return {\n    type: \"heading\",\n    text: header.title,\n    link: `${page.value.path}#${header.slug}`,\n    children: headersToSidebarItemChildren(header.children, headerDepth),\n  };\n};\n\nexport const headersToSidebarItemChildren = (\n  headers: PageHeader[],\n  headerDepth: number\n): ResolvedSidebarHeaderItem[] =>\n  headerDepth > 0\n    ? headers.map((header) => headerToSidebarItem(header, headerDepth - 1))\n    : [];\n\n/**\n * Resolve sidebar items if the config is `heading`\n */\nexport const resolveHeadingSidebarItems = (\n  headerDepth: number\n): ResolvedSidebarHeaderItem[] => {\n  const page = usePageData();\n\n  return headersToSidebarItemChildren(page.value.headers, headerDepth);\n};\n\n/**\n * Resolve sidebar items if the config is an array\n */\nexport const resolveArraySidebarItems = (\n  sidebarConfig: SidebarArrayOptions,\n  headerDepth: number,\n  prefix = \"\"\n): ResolvedSidebarItem[] => {\n  const page = usePageData();\n\n  const handleChildItem = (\n    item: SidebarItem,\n    pathPrefix = prefix\n  ): ResolvedSidebarPageItem | ResolvedSidebarGroupItem => {\n    const childItem = isString(item)\n      ? useAutoLink(resolvePrefix(pathPrefix, item))\n      : item.link\n      ? {\n          ...item,\n          ...(!isLinkExternal(item.link)\n            ? { link: useAutoLink(resolvePrefix(pathPrefix, item.link)).link }\n            : {}),\n        }\n      : item;\n\n    // resolved group item\n    if (\"children\" in childItem) {\n      const prefix = resolvePrefix(pathPrefix, childItem.prefix);\n\n      const children =\n        childItem.children === \"structure\"\n          ? sidebarData[prefix]\n          : childItem.children;\n\n      return {\n        type: \"group\",\n        ...childItem,\n        prefix,\n        children: children.map((item) => handleChildItem(item, prefix)),\n      };\n    }\n\n    return {\n      type: \"page\",\n      ...childItem,\n      children:\n        // if the sidebar item is current page and children is not set\n        // use headers of current page as children\n        childItem.link === page.value.path\n          ? headersToSidebarItemChildren(\n              // skip h1 header\n              page.value.headers[0]?.level === 1\n                ? page.value.headers[0].children\n                : page.value.headers,\n              headerDepth\n            )\n          : [],\n    };\n  };\n\n  return sidebarConfig.map((item) => handleChildItem(item));\n};\n\n/**\n * Resolve sidebar items if the config is a key -> value (path-prefix -> array) object\n */\nexport const resolveMultiSidebarItems = (\n  sidebarConfig: SidebarObjectOptions,\n  headerDepth: number\n): ResolvedSidebarItem[] => {\n  const page = usePageData();\n  const sidebarRoutes = keys(sidebarConfig).sort((x, y) => y.length - x.length);\n\n  // find matching config\n  for (const base of sidebarRoutes)\n    if (startsWith(decodeURI(page.value.path), base)) {\n      const matchedConfig = sidebarConfig[base];\n\n      return matchedConfig\n        ? resolveArraySidebarItems(\n            matchedConfig === \"structure\"\n              ? sidebarData[base]\n              : matchedConfig === \"heading\"\n              ? resolveHeadingSidebarItems(headerDepth)\n              : matchedConfig,\n            headerDepth,\n            base\n          )\n        : [];\n    }\n\n  console.warn(`${page.value.path} is missing sidebar config.`);\n\n  return [];\n};\n\n/**\n * Resolve sidebar items global computed\n *\n * It should only be resolved and provided once\n */\nexport const resolveSidebarItems = (): ResolvedSidebarItem[] => {\n  const routeLocale = useRouteLocale();\n  const frontmatter = usePageFrontmatter<ThemeNormalPageFrontmatter>();\n  const themeLocale = useThemeLocaleData();\n\n  // get sidebar config from frontmatter > themeConfig\n  const sidebarConfig = frontmatter.value.home\n    ? false\n    : frontmatter.value.sidebar ?? themeLocale.value.sidebar ?? \"structure\";\n  const headerDepth =\n    frontmatter.value.headerDepth ?? themeLocale.value.headerDepth ?? 2;\n\n  // resolve sidebar items according to the config\n  return sidebarConfig === false\n    ? []\n    : sidebarConfig === \"heading\"\n    ? resolveHeadingSidebarItems(headerDepth)\n    : sidebarConfig === \"structure\"\n    ? resolveArraySidebarItems(\n        sidebarData[routeLocale.value],\n        headerDepth,\n        routeLocale.value\n      )\n    : isArray(sidebarConfig)\n    ? resolveArraySidebarItems(sidebarConfig, headerDepth)\n    : isPlainObject(sidebarConfig)\n    ? resolveMultiSidebarItems(sidebarConfig, headerDepth)\n    : [];\n};\n","import {\n  type ComputedRef,\n  type InjectionKey,\n  computed,\n  inject,\n  provide,\n} from \"vue\";\n\nimport { resolveSidebarItems } from \"./resolveConfig.js\";\nimport { type ResolvedSidebarItem } from \"../utils/index.js\";\n\nexport type SidebarItemsRef = ComputedRef<ResolvedSidebarItem[]>;\n\nexport const sidebarItemsSymbol: InjectionKey<SidebarItemsRef> =\n  Symbol.for(\"sidebarItems\");\n\n/**\n * Create sidebar items ref and provide as global computed in setup\n */\nexport const setupSidebarItems = (): void => {\n  const sidebarItems = computed(() => resolveSidebarItems());\n\n  provide(sidebarItemsSymbol, sidebarItems);\n};\n\n/**\n * Inject sidebar items global computed\n */\nexport const useSidebarItems = (): SidebarItemsRef => {\n  const sidebarItems = inject(sidebarItemsSymbol);\n\n  if (!sidebarItems)\n    throw new Error(\"useSidebarItems() is called without provider.\");\n\n  return sidebarItems;\n};\n"],"names":["HopeIcon","props","icon","isLinkHttp","h","isAbsoluteUrl","withBase","resolveComponent","c","defineComponent","attrs","emit","slots","route","useRoute","siteData","useSiteData","config","toRef","hasHttpProtocol","computed","hasNonHttpProtocol","isLinkMailto","isLinkTel","linkTarget","isBlankTarget","renderRouterLink","anchorRel","linkAriaLabel","shouldBeActiveInSubpath","localeKeys","keys","key","isActive","startsWith","_a","_b","_c","text","link","RouterLink","ExternalLinkIcon","isActiveSidebarItem","item","exact","isActiveLink","child","isMatchedSidebarItem","renderItem","AutoLink","renderChildren","children","active","resolvePrefix","prefix","path","ensureEndingSlash","headerToSidebarItem","header","headerDepth","page","usePageData","headersToSidebarItemChildren","headers","resolveHeadingSidebarItems","resolveArraySidebarItems","sidebarConfig","handleChildItem","pathPrefix","childItem","isString","useAutoLink","isLinkExternal","sidebarData","resolveMultiSidebarItems","sidebarRoutes","x","y","base","matchedConfig","resolveSidebarItems","routeLocale","useRouteLocale","frontmatter","usePageFrontmatter","themeLocale","useThemeLocaleData","isArray","isPlainObject","sidebarItemsSymbol","setupSidebarItems","sidebarItems","provide","useSidebarItems","inject"],"mappings":"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"}